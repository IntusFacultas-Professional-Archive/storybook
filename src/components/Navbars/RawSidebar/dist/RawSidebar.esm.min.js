import{WebText as e}from"@IntusFacultas/typography";import{NButton as t}from"@IntusFacultas/button";import{SidebarContainer as n,SidebarHamburgerContainer as r,SidebarTitle as i,SidebarContent as o}from"@IntusFacultas/sidebar";var s={components:{SidebarContainer:n,SidebarHamburgerContainer:r,SidebarTitle:i,SidebarContent:o,WebText:e,NButton:t},data:function(){return{windowWidth:0,open:!0}},mounted:function(){window.addEventListener("click",this.checkOffclick)},beforeDestroy:function(){window.removeEventListener("click",self.checkOffclick)},methods:{collapseSection:function(e){var t=e.scrollHeight,n=e.style.transition;e.style.transition="",e.style.height=t+"px !important",e.style.padding="0px 15px",requestAnimationFrame((function(){e.style.height=t+"px",e.style.transition=n,requestAnimationFrame((function(){e.style.height="0px"}))})),e.setAttribute("data-collapsed","true")},expandSection:function(e){var t=e.scrollHeight;e.style.height=t+"px",e.style.padding="5px 15px",e.addEventListener("transitionend",(function(){e.removeEventListener("transitionend",this),"false"==e.getAttribute("data-collapsed")&&(e.style.height="auto")})),e.setAttribute("data-collapsed","false")},checkOffclick:function(e){this.open&&!function(e,t){if(e.id==t.id)return!0;for(;e=e.parentNode;)if(e.id==t.id)return!0;return!1}(e.target,document.getElementById("sidebar"))&&(this.open=!1,this.collapseSection(this.$refs.content.$el))},toggleAccordion:function(){this.open=!this.open,this.open?this.expandSection(this.$refs.content.$el):this.collapseSection(this.$refs.content.$el)},changeWindow:function(e){window.location.href=e}},computed:{computedClass:function(){return this.open?{}:["sidebar-closed"]}},props:{sidebarTitle:{type:String,default:"Sidebar"},flavor:{type:String,default:""},bottomOffset:{type:String,default:"0px"},topOffset:{type:String,default:""},width:{type:Number,default:200},breakpoint:{type:Number,default:576}}};const a="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());let l;const d={};const c=s;var f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("sidebar-container",{attrs:{flavor:e.flavor,"top-offset":e.topOffset,"bottom-offset":e.bottomOffset,id:"sidebar",width:e.width,breakpoint:e.breakpoint}},[n("sidebar-title",{attrs:{flavor:e.flavor}},[n("web-text",{attrs:{size:16}},[e._v(e._s(e.sidebarTitle))]),e._v(" "),n("sidebar-hamburger-container",{attrs:{width:e.width,breakpoint:e.breakpoint}},[n("n-button",{attrs:{flavor:e.flavor},on:{click:e.toggleAccordion}},[e._v("â˜°")])],1)],1),e._v(" "),n("sidebar-content",{ref:"content",attrs:{raw:!0,flavor:e.flavor,width:e.width,breakpoint:e.breakpoint}},[e._t("default")],2)],1)};f._withStripped=!0;const p=function(e,t,n,r,i,o,s,a,l,d){"boolean"!=typeof s&&(l=a,a=s,s=!1);const c="function"==typeof n?n.options:n;let f;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),r&&(c._scopeId=r),o?(f=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=f):t&&(f=s?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),f)if(c.functional){const e=c.render;c.render=function(t,n){return f.call(n),e(t,n)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,f):[f]}return n}({render:f,staticRenderFns:[]},(function(e){e&&e("data-v-3e34ea72_0",{source:"\n.sidebar-open-carat {\r\n  transform: rotate(135deg) !important;\r\n  margin-bottom: 4px;\n}\n.sidebar-icon {\r\n  display: inline-block;\n}\n.dropdown-arrow {\r\n  background-image: linear-gradient(to top right, transparent 50%, #727272 50%);\r\n  width: 0.5rem;\r\n  height: 0.5rem;\r\n  transform: rotate(135deg);\r\n  transition: 0.3s all;\r\n  display: inline-block;\n}\n.dropdown-label {\r\n  cursor: pointer;\n}\r\n",map:{version:3,sources:["C:\\Users\\pedro\\Documents\\Personal Projects\\GitHub\\storybook\\storybook\\src\\components\\Navbars\\RawSidebar\\src\\RawSidebar.vue"],names:[],mappings:";AAmLA;EACA,oCAAA;EACA,kBAAA;AACA;AACA;EACA,qBAAA;AACA;AACA;EACA,6EAAA;EACA,aAAA;EACA,cAAA;EACA,yBAAA;EACA,oBAAA;EACA,qBAAA;AACA;AACA;EACA,eAAA;AACA",file:"RawSidebar.vue",sourcesContent:['<template>\r\n  <sidebar-container\r\n    :flavor="flavor"\r\n    :top-offset="topOffset"\r\n    :bottom-offset="bottomOffset"\r\n    id="sidebar"\r\n    :width="width"\r\n    :breakpoint="breakpoint"\r\n  >\r\n    <sidebar-title :flavor="flavor">\r\n      <web-text :size="16">{{ sidebarTitle }}</web-text>\r\n      <sidebar-hamburger-container :width="width" :breakpoint="breakpoint">\r\n        <n-button :flavor="flavor" @click="toggleAccordion">&#9776;</n-button>\r\n      </sidebar-hamburger-container>\r\n    </sidebar-title>\r\n    <sidebar-content\r\n      :raw="true"\r\n      :flavor="flavor"\r\n      :width="width"\r\n      :breakpoint="breakpoint"\r\n      ref="content"\r\n    >\r\n      <slot></slot>\r\n    </sidebar-content>\r\n  </sidebar-container>\r\n</template>\r\n\r\n<script>\r\nimport { WebText } from "@IntusFacultas/typography";\r\nimport { NButton } from "@IntusFacultas/button";\r\nimport {\r\n  SidebarHamburgerContainer,\r\n  SidebarContainer,\r\n  SidebarTitle,\r\n  SidebarContent\r\n} from "@IntusFacultas/sidebar";\r\nexport const RawSidebar = {\r\n  components: {\r\n    SidebarContainer,\r\n    SidebarHamburgerContainer,\r\n    SidebarTitle,\r\n    SidebarContent,\r\n    WebText,\r\n    NButton\r\n  },\r\n  data: function() {\r\n    return {\r\n      windowWidth: 0,\r\n      open: true\r\n    };\r\n  },\r\n  mounted: function() {\r\n    var self = this;\r\n    window.addEventListener("click", self.checkOffclick);\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener("click", self.checkOffclick);\r\n  },\r\n  methods: {\r\n    collapseSection(element) {\r\n      // pulled from https://css-tricks.com/using-css-transitions-auto-dimensions/ and modified\r\n      // get the height of the element\'s inner content, regardless of its actual size\r\n      let sectionHeight = element.scrollHeight;\r\n      // temporarily disable all css transitions\r\n      var elementTransition = element.style.transition;\r\n      element.style.transition = "";\r\n      element.style.height = sectionHeight + "px !important";\r\n      element.style.padding = "0px 15px";\r\n      // on the next frame (as soon as the previous style change has taken effect),\r\n      // explicitly set the element\'s height to its current pixel height, so we\r\n      // aren\'t transitioning out of \'auto\'\r\n      requestAnimationFrame(function() {\r\n        element.style.height = sectionHeight + "px";\r\n        element.style.transition = elementTransition;\r\n        // element.style.overflowY = \'hidden\';\r\n\r\n        // on the next frame (as soon as the previous style change has taken effect),\r\n        // have the element transition to height: 0\r\n        requestAnimationFrame(function() {\r\n          element.style.height = 0 + "px";\r\n        });\r\n      });\r\n\r\n      // mark the section as "currently collapsed"\r\n      element.setAttribute("data-collapsed", "true");\r\n    },\r\n    expandSection(element) {\r\n      // pulled from https://css-tricks.com/using-css-transitions-auto-dimensions/ and modified\r\n      // get the height of the element\'s inner content, regardless of its actual size\r\n      let sectionHeight = element.scrollHeight;\r\n      // have the element transition to the height of its inner content\r\n      element.style.height = sectionHeight + "px";\r\n      element.style.padding = "5px 15px";\r\n\r\n      // element.style.overflowY = "auto"\r\n      // when the next css transition finishes (which should be the one we just triggered)\r\n      element.addEventListener("transitionend", function() {\r\n        // remove this event listener so it only gets triggered once\r\n        element.removeEventListener("transitionend", this);\r\n        if (element.getAttribute("data-collapsed") == "false") {\r\n          // remove "height" from the element\'s inline styles, so it can return to its initial value\r\n          element.style.height = "auto";\r\n        }\r\n      });\r\n\r\n      // mark the section as "currently not collapsed"\r\n      element.setAttribute("data-collapsed", "false");\r\n    },\r\n    checkOffclick: function($e) {\r\n      /**\r\n       * Pulled from: https://stackoverflow.com/questions/17773852/check-if-div-is-descendant-of-another\r\n       */\r\n      let self = this;\r\n      function isChild(obj, parentObj) {\r\n        if (obj.id == parentObj.id) return true;\r\n        while ((obj = obj.parentNode)) {\r\n          if (obj.id == parentObj.id) return true;\r\n        }\r\n        return false;\r\n      }\r\n      if (\r\n        self.open &&\r\n        !isChild($e.target, document.getElementById("sidebar"))\r\n      ) {\r\n        self.open = false;\r\n        self.collapseSection(self.$refs.content.$el);\r\n      }\r\n    },\r\n    toggleAccordion: function() {\r\n      this.open = !this.open;\r\n      if (this.open) {\r\n        this.expandSection(this.$refs.content.$el);\r\n      } else {\r\n        this.collapseSection(this.$refs.content.$el);\r\n      }\r\n    },\r\n    changeWindow: function($e) {\r\n      window.location.href = $e;\r\n    }\r\n  },\r\n  computed: {\r\n    computedClass: function() {\r\n      if (this.open) {\r\n        return {};\r\n      }\r\n      return ["sidebar-closed"];\r\n    }\r\n  },\r\n  props: {\r\n    sidebarTitle: {\r\n      type: String,\r\n      default: "Sidebar"\r\n    },\r\n    flavor: {\r\n      type: String,\r\n      default: ""\r\n    },\r\n    bottomOffset: {\r\n      type: String,\r\n      default: "0px"\r\n    },\r\n    topOffset: {\r\n      type: String,\r\n      default: ""\r\n    },\r\n    width: {\r\n      type: Number,\r\n      default: 200\r\n    },\r\n    breakpoint: {\r\n      type: Number,\r\n      default: 576\r\n    }\r\n  }\r\n};\r\nexport default RawSidebar;\r\n<\/script>\r\n\r\n<style>\r\n.sidebar-open-carat {\r\n  transform: rotate(135deg) !important;\r\n  margin-bottom: 4px;\r\n}\r\n.sidebar-icon {\r\n  display: inline-block;\r\n}\r\n.dropdown-arrow {\r\n  background-image: linear-gradient(to top right, transparent 50%, #727272 50%);\r\n  width: 0.5rem;\r\n  height: 0.5rem;\r\n  transform: rotate(135deg);\r\n  transition: 0.3s all;\r\n  display: inline-block;\r\n}\r\n.dropdown-label {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n']},media:void 0})}),c,void 0,!1,void 0,!1,(function(e){return(e,t)=>function(e,t){const n=a?t.media||"default":e,r=d[n]||(d[n]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);let n=t.source;if(t.map&&(n+="\n/*# sourceURL="+t.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),void 0===l&&(l=document.head||document.getElementsByTagName("head")[0]),l.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(n),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{const e=r.ids.size-1,t=document.createTextNode(n),i=r.element.childNodes;i[e]&&r.element.removeChild(i[e]),i.length?r.element.insertBefore(t,i[e]):r.element.appendChild(t)}}}(e,t)}),void 0,void 0);var u=function(e){u.installed||(u.installed=!0,e.component("RawSidebar",p))},h={install:u},m=null;"undefined"!=typeof window?m=window.Vue:"undefined"!=typeof global&&(m=global.Vue),m&&m.use(h),p.install=u;export default p;
