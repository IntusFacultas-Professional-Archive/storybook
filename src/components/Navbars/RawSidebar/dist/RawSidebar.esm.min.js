import{TextContent as e}from"@IntusFacultas/typography";import{NButton as t}from"@IntusFacultas/button";import{SidebarContainer as n,SidebarHamburgerContainer as r,SidebarTitle as i,SidebarContent as o}from"@IntusFacultas/sidebar";var a={components:{SidebarContainer:n,SidebarHamburgerContainer:r,SidebarTitle:i,SidebarContent:o,TextContent:e,NButton:t},data:function(){return{windowWidth:0,open:!0}},mounted:function(){window.addEventListener("click",this.checkOffclick)},beforeDestroy:function(){window.removeEventListener("click",self.checkOffclick)},methods:{collapseSection:function(e){var t=e.scrollHeight,n=e.style.transition;e.style.transition="",e.style.height=t+"px !important",e.style.padding="0px 15px",requestAnimationFrame((function(){e.style.height=t+"px",e.style.transition=n,requestAnimationFrame((function(){e.style.height="0px"}))})),e.setAttribute("data-collapsed","true")},expandSection:function(e){var t=e.scrollHeight;e.style.height=t+"px",e.style.padding="5px 15px",e.addEventListener("transitionend",(function(){e.removeEventListener("transitionend",this),"false"==e.getAttribute("data-collapsed")&&(e.style.height="auto")})),e.setAttribute("data-collapsed","false")},checkOffclick:function(e){this.open&&!function(e,t){if(null==e||void 0===e)return!0;if(e.id==t.id)return!0;for(;e=e.parentNode;)if(e.id==t.id)return!0;return!1}(e.target,document.getElementById("sidebar"))&&(this.open=!1,this.collapseSection(this.$refs.content.$el))},toggleAccordion:function(){this.open=!this.open,this.open?this.expandSection(this.$refs.content.$el):this.collapseSection(this.$refs.content.$el)},changeWindow:function(e){window.location.href=e}},computed:{computedClass:function(){return this.open?{}:["sidebar-closed"]}},props:{sidebarTitle:{type:String,default:"Sidebar"},height:{type:[Number,Object],default:null},flavor:{type:String,default:""},bottomOffset:{type:String,default:"0px"},topOffset:{type:String,default:""},width:{type:Number,default:200},breakpoint:{type:Number,default:576}}};var s,l="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var d={};const c=a;var f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("sidebar-container",{attrs:{flavor:e.flavor,"top-offset":e.topOffset,"bottom-offset":e.bottomOffset,id:"sidebar",width:e.width,height:e.height,breakpoint:e.breakpoint}},[n("sidebar-title",{attrs:{flavor:e.flavor}},[n("text",{attrs:{size:16}},[e._v(e._s(e.sidebarTitle))]),e._v(" "),n("sidebar-hamburger-container",{attrs:{width:e.width,breakpoint:e.breakpoint}},[n("n-button",{attrs:{flavor:e.flavor},on:{click:e.toggleAccordion}},[e._v("â˜°")])],1)],1),e._v(" "),n("sidebar-content",{ref:"content",attrs:{raw:!0,flavor:e.flavor,width:e.width,breakpoint:e.breakpoint}},[e._t("default")],2)],1)};f._withStripped=!0;const p=function(e,t,n,r,i,o,a,s,l,d){"boolean"!=typeof a&&(l=s,s=a,a=!1);var c,f="function"==typeof n?n.options:n;if(e&&e.render&&(f.render=e.render,f.staticRenderFns=e.staticRenderFns,f._compiled=!0,i&&(f.functional=!0)),r&&(f._scopeId=r),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},f._ssrRegister=c):t&&(c=a?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),c)if(f.functional){var p=f.render;f.render=function(e,t){return c.call(t),p(e,t)}}else{var u=f.beforeCreate;f.beforeCreate=u?[].concat(u,c):[c]}return n}({render:f,staticRenderFns:[]},(function(e){e&&e("data-v-31e44e77_0",{source:"\n.sidebar-open-carat {\r\n  transform: rotate(135deg) !important;\r\n  margin-bottom: 4px;\n}\n.sidebar-icon {\r\n  display: inline-block;\n}\n.dropdown-arrow {\r\n  background-image: linear-gradient(to top right, transparent 50%, #727272 50%);\r\n  width: 0.5rem;\r\n  height: 0.5rem;\r\n  transform: rotate(135deg);\r\n  transition: 0.3s all;\r\n  display: inline-block;\n}\n.dropdown-label {\r\n  cursor: pointer;\n}\r\n",map:{version:3,sources:["C:\\Users\\pedro\\Documents\\Personal Projects\\GitHub\\storybook\\src\\components\\Navbars\\RawSidebar\\src\\RawSidebar.vue"],names:[],mappings:";AAyLA;EACA,oCAAA;EACA,kBAAA;AACA;AACA;EACA,qBAAA;AACA;AACA;EACA,6EAAA;EACA,aAAA;EACA,cAAA;EACA,yBAAA;EACA,oBAAA;EACA,qBAAA;AACA;AACA;EACA,eAAA;AACA",file:"RawSidebar.vue",sourcesContent:['<template>\r\n  <sidebar-container\r\n    :flavor="flavor"\r\n    :top-offset="topOffset"\r\n    :bottom-offset="bottomOffset"\r\n    id="sidebar"\r\n    :width="width"\r\n    :height="height"\r\n    :breakpoint="breakpoint"\r\n  >\r\n    <sidebar-title :flavor="flavor">\r\n      <text :size="16">{{ sidebarTitle }}</text>\r\n      <sidebar-hamburger-container :width="width" :breakpoint="breakpoint">\r\n        <n-button :flavor="flavor" @click="toggleAccordion">&#9776;</n-button>\r\n      </sidebar-hamburger-container>\r\n    </sidebar-title>\r\n    <sidebar-content\r\n      :raw="true"\r\n      :flavor="flavor"\r\n      :width="width"\r\n      :breakpoint="breakpoint"\r\n      ref="content"\r\n    >\r\n      <slot></slot>\r\n    </sidebar-content>\r\n  </sidebar-container>\r\n</template>\r\n\r\n<script>\r\nimport { TextContent } from "@IntusFacultas/typography";\r\nimport { NButton } from "@IntusFacultas/button";\r\nimport {\r\n  SidebarHamburgerContainer,\r\n  SidebarContainer,\r\n  SidebarTitle,\r\n  SidebarContent,\r\n} from "@IntusFacultas/sidebar";\r\nexport const RawSidebar = {\r\n  components: {\r\n    SidebarContainer,\r\n    SidebarHamburgerContainer,\r\n    SidebarTitle,\r\n    SidebarContent,\r\n    TextContent,\r\n    NButton,\r\n  },\r\n  data: function() {\r\n    return {\r\n      windowWidth: 0,\r\n      open: true,\r\n    };\r\n  },\r\n  mounted: function() {\r\n    var self = this;\r\n    window.addEventListener("click", self.checkOffclick);\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener("click", self.checkOffclick);\r\n  },\r\n  methods: {\r\n    collapseSection(element) {\r\n      // pulled from https://css-tricks.com/using-css-transitions-auto-dimensions/ and modified\r\n      // get the height of the element\'s inner content, regardless of its actual size\r\n      let sectionHeight = element.scrollHeight;\r\n      // temporarily disable all css transitions\r\n      var elementTransition = element.style.transition;\r\n      element.style.transition = "";\r\n      element.style.height = sectionHeight + "px !important";\r\n      element.style.padding = "0px 15px";\r\n      // on the next frame (as soon as the previous style change has taken effect),\r\n      // explicitly set the element\'s height to its current pixel height, so we\r\n      // aren\'t transitioning out of \'auto\'\r\n      requestAnimationFrame(function() {\r\n        element.style.height = sectionHeight + "px";\r\n        element.style.transition = elementTransition;\r\n        // element.style.overflowY = \'hidden\';\r\n\r\n        // on the next frame (as soon as the previous style change has taken effect),\r\n        // have the element transition to height: 0\r\n        requestAnimationFrame(function() {\r\n          element.style.height = 0 + "px";\r\n        });\r\n      });\r\n\r\n      // mark the section as "currently collapsed"\r\n      element.setAttribute("data-collapsed", "true");\r\n    },\r\n    expandSection(element) {\r\n      // pulled from https://css-tricks.com/using-css-transitions-auto-dimensions/ and modified\r\n      // get the height of the element\'s inner content, regardless of its actual size\r\n      let sectionHeight = element.scrollHeight;\r\n      // have the element transition to the height of its inner content\r\n      element.style.height = sectionHeight + "px";\r\n      element.style.padding = "5px 15px";\r\n\r\n      // element.style.overflowY = "auto"\r\n      // when the next css transition finishes (which should be the one we just triggered)\r\n      element.addEventListener("transitionend", function() {\r\n        // remove this event listener so it only gets triggered once\r\n        element.removeEventListener("transitionend", this);\r\n        if (element.getAttribute("data-collapsed") == "false") {\r\n          // remove "height" from the element\'s inline styles, so it can return to its initial value\r\n          element.style.height = "auto";\r\n        }\r\n      });\r\n\r\n      // mark the section as "currently not collapsed"\r\n      element.setAttribute("data-collapsed", "false");\r\n    },\r\n    checkOffclick: function($e) {\r\n      /**\r\n       * Pulled from: https://stackoverflow.com/questions/17773852/check-if-div-is-descendant-of-another\r\n       */\r\n      let self = this;\r\n      function isChild(obj, parentObj) {\r\n        if (obj == null || typeof obj == "undefined") return true;\r\n        if (obj.id == parentObj.id) return true;\r\n        while ((obj = obj.parentNode)) {\r\n          if (obj.id == parentObj.id) return true;\r\n        }\r\n        return false;\r\n      }\r\n      if (\r\n        self.open &&\r\n        !isChild($e.target, document.getElementById("sidebar"))\r\n      ) {\r\n        self.open = false;\r\n        self.collapseSection(self.$refs.content.$el);\r\n      }\r\n    },\r\n    toggleAccordion: function() {\r\n      this.open = !this.open;\r\n      if (this.open) {\r\n        this.expandSection(this.$refs.content.$el);\r\n      } else {\r\n        this.collapseSection(this.$refs.content.$el);\r\n      }\r\n    },\r\n    changeWindow: function($e) {\r\n      window.location.href = $e;\r\n    },\r\n  },\r\n  computed: {\r\n    computedClass: function() {\r\n      if (this.open) {\r\n        return {};\r\n      }\r\n      return ["sidebar-closed"];\r\n    },\r\n  },\r\n  props: {\r\n    sidebarTitle: {\r\n      type: String,\r\n      default: "Sidebar",\r\n    },\r\n    height: {\r\n      type: [Number, Object],\r\n      default: null,\r\n    },\r\n    flavor: {\r\n      type: String,\r\n      default: "",\r\n    },\r\n    bottomOffset: {\r\n      type: String,\r\n      default: "0px",\r\n    },\r\n    topOffset: {\r\n      type: String,\r\n      default: "",\r\n    },\r\n    width: {\r\n      type: Number,\r\n      default: 200,\r\n    },\r\n    breakpoint: {\r\n      type: Number,\r\n      default: 576,\r\n    },\r\n  },\r\n};\r\nexport default RawSidebar;\r\n<\/script>\r\n\r\n<style>\r\n.sidebar-open-carat {\r\n  transform: rotate(135deg) !important;\r\n  margin-bottom: 4px;\r\n}\r\n.sidebar-icon {\r\n  display: inline-block;\r\n}\r\n.dropdown-arrow {\r\n  background-image: linear-gradient(to top right, transparent 50%, #727272 50%);\r\n  width: 0.5rem;\r\n  height: 0.5rem;\r\n  transform: rotate(135deg);\r\n  transition: 0.3s all;\r\n  display: inline-block;\r\n}\r\n.dropdown-label {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n']},media:void 0})}),c,void 0,!1,void 0,!1,(function(e){return function(e,t){return function(e,t){var n=l?t.media||"default":e,r=d[n]||(d[n]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);var i=t.source;if(t.map&&(i+="\n/*# sourceURL="+t.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),void 0===s&&(s=document.head||document.getElementsByTagName("head")[0]),s.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(i),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{var o=r.ids.size-1,a=document.createTextNode(i),c=r.element.childNodes;c[o]&&r.element.removeChild(c[o]),c.length?r.element.insertBefore(a,c[o]):r.element.appendChild(a)}}}(e,t)}}),void 0,void 0);var u=function(e){u.installed||(u.installed=!0,e.component("RawSidebar",p))},h={install:u},m=null;"undefined"!=typeof window?m=window.Vue:"undefined"!=typeof global&&(m=global.Vue),m&&m.use(h),p.install=u;export default p;export{p as RawSidebar};
