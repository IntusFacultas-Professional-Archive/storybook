{"version":3,"file":"Modal.esm.js","sources":["../src/Modal.vue","../src/entry.js"],"sourcesContent":["<template>\r\n  <div>\r\n    <n-modal-backdrop :class=\"computedClass\" @click=\"turnOff\" ref=\"backdrop\">\r\n      <n-modal-container :width=\"width\" :top-offset=\"topOffset\" ref=\"modal\">\r\n        <n-modal-header\r\n          class=\"intusfacultas-modal-header\"\r\n          :flavor=\"headerFlavor\"\r\n          v-if=\"header\"\r\n        >\r\n          <slot name=\"header\"></slot>\r\n        </n-modal-header>\r\n        <n-modal-body\r\n          class=\"intusfacultas-modal-body\"\r\n          :bottom-offset=\"!footer ? bottomOffset : '0px'\"\r\n          :flavor=\"bodyFlavor\"\r\n          :style=\"computedStyle\"\r\n        >\r\n          <slot name=\"body\"></slot>\r\n        </n-modal-body>\r\n        <n-modal-footer\r\n          class=\"intusfacultas-modal-footer\"\r\n          :bottom-offset=\"bottomOffset\"\r\n          :flavor=\"footerFlavor\"\r\n          v-if=\"footer\"\r\n        >\r\n          <slot name=\"footer\"></slot>\r\n        </n-modal-footer>\r\n      </n-modal-container>\r\n    </n-modal-backdrop>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport styled from \"vue-styled-components\";\r\nimport Theme from \"@IntusFacultas/design-system\";\r\nconst props = {\r\n  flavor: String,\r\n  defaultTheme: {\r\n    type: Object,\r\n    default: function() {\r\n      return Theme;\r\n    },\r\n  },\r\n  width: String,\r\n  topOffset: String,\r\n  bottomOffset: String,\r\n};\r\nexport const NModalBackdrop = styled.div`\r\n  background-color: rgba(0, 0, 0, 0.35);\r\n  z-index: 999;\r\n  transition: 0.15s ease-in-out all;\r\n  position: fixed;\r\n  top: 0px;\r\n  left: 0px;\r\n  right: 0px;\r\n  overflow-y: auto;\r\n  bottom: 0px;\r\n  display: flex;\r\n  justify-content: center;\r\n  & > div {\r\n    transform: translateY(0px);\r\n  }\r\n`;\r\nexport const NModalContainer = styled(\"div\", props)`\r\n  z-index: 1000;\r\n  margin-top: ${(props) => (props.topOffset ? props.topOffset : \"20px\")}\r\n  width: ${(props) => (props.width ? props.width : \"500px\")}\r\n  transition: .15s ease-in-out transform;\r\n`;\r\nexport const NModalHeader = styled(\"div\", props)`\r\n  border-radius: 5px 5px 0px 0px;\r\n  padding: 10px 10px 10px 10px;\r\n  border: 1px solid\r\n    ${(props) =>\r\n      props.theme && props.theme[props.flavor]\r\n        ? props.theme[props.flavor].border.hover\r\n        : props.defaultTheme[props.flavor]\r\n        ? props.defaultTheme[props.flavor].border.hover\r\n        : \"#aaa\"};\r\n  border-width: 0px;\r\n  border-bottom-width: 1px;\r\n  background-color: ${(props) =>\r\n    props.theme && props.theme[props.flavor]\r\n      ? props.theme[props.flavor].background.color\r\n      : props.defaultTheme[props.flavor]\r\n      ? props.defaultTheme[props.flavor].background.color\r\n      : \"white\"};\r\n`;\r\nexport const NModalBody = styled(\"div\", props)`\r\n  padding: 10px;\r\n  border: 1px solid\r\n    ${(props) =>\r\n      props.theme && props.theme[props.flavor]\r\n        ? props.theme[props.flavor].border.hover\r\n        : props.defaultTheme[props.flavor]\r\n        ? props.defaultTheme[props.flavor].border.hover\r\n        : \"#aaa\"};\r\n  background-color: ${(props) =>\r\n    props.theme && props.theme[props.flavor]\r\n      ? props.theme[props.flavor].background.color\r\n      : props.defaultTheme[props.flavor]\r\n      ? props.defaultTheme[props.flavor].background.color\r\n      : \"white\"};\r\n  border-width: 0px 1px 0px 1px;\r\n  border-style: solid;\r\n  margin-bottom: ${(props) =>\r\n    props.bottomOffset ? props.bottomOffset : \"0px\"};\r\n  border-width: 0px;\r\n`;\r\nexport const NModalFooter = styled(\"div\", props)`\r\n  padding: 10px;\r\n  border-radius: 0px 0px 5px 5px;\r\n\r\n  border: 1px solid\r\n    ${(props) =>\r\n      props.theme && props.theme[props.flavor]\r\n        ? props.theme[props.flavor].border.hover\r\n        : props.defaultTheme[props.flavor]\r\n        ? props.defaultTheme[props.flavor].border.hover\r\n        : \"#aaa\"};\r\n  background-color: ${(props) =>\r\n    props.theme && props.theme[props.flavor]\r\n      ? props.theme[props.flavor].background.color\r\n      : props.defaultTheme[props.flavor]\r\n      ? props.defaultTheme[props.flavor].background.color\r\n      : \"white\"};\r\n  margin-bottom: ${(props) =>\r\n    props.bottomOffset ? props.bottomOffset : \"20px\"};\r\n  border-width: 0px;\r\n  border-top-width: 1px;\r\n`;\r\n\r\nexport const Modal = {\r\n  components: {\r\n    NModalHeader,\r\n    NModalBody,\r\n    NModalFooter,\r\n    NModalBackdrop,\r\n    NModalContainer,\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n    };\r\n  },\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    backgroundDismiss: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    headerFlavor: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    footerFlavor: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    bodyFlavor: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: \"500px\",\r\n    },\r\n    topOffset: {\r\n      type: String,\r\n    },\r\n    bottomOffset: {\r\n      type: String,\r\n    },\r\n    header: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    footer: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  mounted() {\r\n    window.addEventListener(`modal-${this.id}`, this.detectChange);\r\n    (function() {\r\n      if (typeof window.CustomEvent === \"function\") return false;\r\n\r\n      function CustomEvent(event, params) {\r\n        params = params || {\r\n          bubbles: false,\r\n          cancelable: false,\r\n          detail: null,\r\n        };\r\n        var evt = document.createEvent(\"CustomEvent\");\r\n        evt.initCustomEvent(\r\n          event,\r\n          params.bubbles,\r\n          params.cancelable,\r\n          params.detail\r\n        );\r\n        return evt;\r\n      }\r\n\r\n      window.CustomEvent = CustomEvent;\r\n    })();\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener(`modal-${this.id}`, this.detectChange);\r\n  },\r\n  methods: {\r\n    isDescendant(parent, child) {\r\n      var node = child.parentNode;\r\n      while (node != null) {\r\n        if (node == parent) {\r\n          return true;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n      return false;\r\n    },\r\n    turnOff(event) {\r\n      if (this.backgroundDismiss && this.$refs.backdrop.$el == event.target) {\r\n        this.visible = false;\r\n      }\r\n    },\r\n    detectChange(event) {\r\n      this.visible = event.detail.modal;\r\n    },\r\n  },\r\n  computed: {\r\n    computedClass() {\r\n      if (this.visible) {\r\n        return [];\r\n      }\r\n      return [\"modal-hidden\"];\r\n    },\r\n    computedStyle: function() {\r\n      var self = this;\r\n      let data = {\r\n        \"border-top-left-radius\": self.header ? \"0px\" : \"5px\",\r\n        \"border-top-right-radius\": self.header ? \"0px\" : \"5px\",\r\n        \"border-bottom-left-radius\": self.footer ? \"0px\" : \"5px\",\r\n        \"border-bottom-right-radius\": self.footer ? \"0px\" : \"5px\",\r\n        \"border-top-width\": self.header ? \"0px\" : \"1px\",\r\n        \"border-bottom-width\": self.footer ? \"0px\" : \"1px\",\r\n      };\r\n      return data;\r\n    },\r\n  },\r\n};\r\n\r\nexport default Modal;\r\n</script>\r\n\r\n<style>\r\n.modal-hidden {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n}\r\n.modal-hidden > div {\r\n  transform: translateY(-200px);\r\n}\r\n</style>\r\n","// Import vue component\r\nimport Modal from \"./Modal.vue\";\r\n\r\n// install function executed by Vue.use()\r\nconst install = function installModal(Vue) {\r\n  if (install.installed) return;\r\n  install.installed = true;\r\n  Vue.component(\"Modal\", Modal);\r\n};\r\n\r\n// Create module definition for Vue.use()\r\nconst plugin = {\r\n  install,\r\n};\r\n\r\n// To auto-install when vue is found\r\n// eslint-disable-next-line no-redeclare\r\n/* global window, global */\r\nlet GlobalVue = null;\r\nif (typeof window !== \"undefined\") {\r\n  GlobalVue = window.Vue;\r\n} else if (typeof global !== \"undefined\") {\r\n  GlobalVue = global.Vue;\r\n}\r\nif (GlobalVue) {\r\n  GlobalVue.use(plugin);\r\n}\r\n\r\n// Inject install function into component - allows component\r\n// to be registered via Vue.use() as well as Vue.component()\r\nModal.install = install;\r\n\r\n// Export component by default\r\nexport { Modal };\r\nexport default Modal;\r\n\r\n// It's possible to expose named exports when writing components that can\r\n// also be used as directives, etc. - eg. import { RollupDemoDirective } from 'rollup-demo';\r\n// export const RollupDemoDirective = component;\r\n"],"names":["install","installModal","Vue","installed","component","Modal","plugin","GlobalVue","window","global","use"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;;;;;;;;;;;CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAnCA,AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AAGA,IAAMA,OAAO,GAAG,SAASC,YAAT,CAAsBC,GAAtB,EAA2B;AACzC,MAAIF,OAAO,CAACG,SAAZ,EAAuB;AACvBH,EAAAA,OAAO,CAACG,SAAR,GAAoB,IAApB;AACAD,EAAAA,GAAG,CAACE,SAAJ,CAAc,OAAd,EAAuBC,iBAAvB;AACD,CAJD;;;AAOA,IAAMC,MAAM,GAAG;AACbN,EAAAA,OAAO,EAAPA;AADa,CAAf;AAKA;;AACA;;AACA,IAAIO,SAAS,GAAG,IAAhB;;AACA,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjCD,EAAAA,SAAS,GAAGC,MAAM,CAACN,GAAnB;AACD,CAFD,MAEO,IAAI,OAAOO,MAAP,KAAkB,WAAtB,EAAmC;AACxCF,EAAAA,SAAS,GAAGE,MAAM,CAACP,GAAnB;AACD;;AACD,IAAIK,SAAJ,EAAe;AACbA,EAAAA,SAAS,CAACG,GAAV,CAAcJ,MAAd;AACD;AAGD;;;AACAD,iBAAK,CAACL,OAAN,GAAgBA,OAAhB;AAOA;AACA;;;;;"}