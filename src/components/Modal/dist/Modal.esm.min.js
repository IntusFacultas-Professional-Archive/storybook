import r from"vue-styled-components";import e from"@IntusFacultas/design-system";function n(r,e){return e||(e=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}function t(){var r=n(["\n  padding: 10px;\n  border-radius: 0px 0px 5px 5px;\n\n  border: 1px solid\n    ",";\n  background-color: ",";\n  margin-bottom: ",";\n"]);return t=function(){return r},r}function o(){var r=n(["\n  padding: 10px;\n  border: 1px solid\n    ",";\n  background-color: ",";\n  border-width: 0px 1px 0px 1px;\n  border-style: solid;\n  margin-bottom: ",";\n"]);return o=function(){return r},r}function a(){var r=n(["\n  border-radius: 5px 5px 0px 0px;\n  padding: 10px 10px 10px 10px;\n  border: 1px solid\n    ",";\n  background-color: ",";\n"]);return a=function(){return r},r}function d(){var r=n(["\n  z-index: 1000;\n  margin-top: ","\n  width: ","\n  transition: .15s ease-in-out transform;\n"]);return d=function(){return r},r}function s(){var r=n(["\n  background-color: rgba(0, 0, 0, 0.35);\n  z-index: 999;\n  transition: 0.15s ease-in-out all;\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  overflow-y: auto;\n  bottom: 0px;\n  display: flex;\n  justify-content: center;\n  & > div {\n    transform: translateY(0px);\n  }\n"]);return s=function(){return r},r}var p={flavor:String,defaultTheme:{type:Object,default:function(){return e}},width:String,topOffset:String,bottomOffset:String},i=r.div(s()),l=r("div",p)(d(),(function(r){return r.topOffset?r.topOffset:"20px"}),(function(r){return r.width?r.width:"500px"})),f={components:{NModalHeader:r("div",p)(a(),(function(r){return r.theme&&r.theme[r.flavor]?r.theme[r.flavor].border.hover:r.defaultTheme[r.flavor]?r.defaultTheme[r.flavor].border.hover:"#aaa"}),(function(r){return r.theme&&r.theme[r.flavor]?r.theme[r.flavor].background.color:r.defaultTheme[r.flavor]?r.defaultTheme[r.flavor].background.color:"white"})),NModalBody:r("div",p)(o(),(function(r){return r.theme&&r.theme[r.flavor]?r.theme[r.flavor].border.hover:r.defaultTheme[r.flavor]?r.defaultTheme[r.flavor].border.hover:"#aaa"}),(function(r){return r.theme&&r.theme[r.flavor]?r.theme[r.flavor].background.color:r.defaultTheme[r.flavor]?r.defaultTheme[r.flavor].background.color:"white"}),(function(r){return r.bottomOffset?r.bottomOffset:"0px"})),NModalFooter:r("div",p)(t(),(function(r){return r.theme&&r.theme[r.flavor]?r.theme[r.flavor].border.hover:r.defaultTheme[r.flavor]?r.defaultTheme[r.flavor].border.hover:"#aaa"}),(function(r){return r.theme&&r.theme[r.flavor]?r.theme[r.flavor].background.color:r.defaultTheme[r.flavor]?r.defaultTheme[r.flavor].background.color:"white"}),(function(r){return r.bottomOffset?r.bottomOffset:"20px"})),NModalBackdrop:i,NModalContainer:l},data:function(){return{visible:!1}},props:{id:{type:String,required:!0},backgroundDismiss:{type:Boolean,default:!0},headerFlavor:{type:String,default:""},footerFlavor:{type:String,default:""},bodyFlavor:{type:String,default:""},width:{type:String,default:"500px"},topOffset:{type:String},bottomOffset:{type:String},header:{type:Boolean,default:!1},footer:{type:Boolean,default:!1}},mounted:function(){window.addEventListener("modal-".concat(this.id),this.detectChange),function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(r,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(r,e.bubbles,e.cancelable,e.detail),n}}()},beforeDestroy:function(){window.removeEventListener("modal-".concat(this.id),this.detectChange)},methods:{isDescendant:function(r,e){for(var n=e.parentNode;null!=n;){if(n==r)return!0;n=n.parentNode}return!1},turnOff:function(r){this.backgroundDismiss&&this.$refs.backdrop.$el==r.target&&(this.visible=!1)},detectChange:function(r){this.visible=r.detail.modal}},computed:{computedClass:function(){return this.visible?[]:["modal-hidden"]},computedStyle:function(){return{"border-top-left-radius":this.header?"0px":"5px","border-top-right-radius":this.header?"0px":"5px","border-bottom-left-radius":this.footer?"0px":"5px","border-bottom-right-radius":this.footer?"0px":"5px","border-top-width":this.header?"0px":"1px","border-bottom-width":this.footer?"0px":"1px"}}}};var u,m="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var c={};const h=f;var v=function(){var r=this,e=r.$createElement,n=r._self._c||e;return n("div",[n("n-modal-backdrop",{ref:"backdrop",class:r.computedClass,on:{click:r.turnOff}},[n("n-modal-container",{ref:"modal",attrs:{width:r.width,"top-offset":r.topOffset}},[r.header?n("n-modal-header",{attrs:{flavor:r.headerFlavor}},[r._t("header")],2):r._e(),r._v(" "),n("n-modal-body",{style:r.computedStyle,attrs:{"bottom-offset":r.footer?"0px":r.bottomOffset,flavor:r.bodyFlavor}},[r._t("body")],2),r._v(" "),r.footer?n("n-modal-footer",{attrs:{"bottom-offset":r.bottomOffset,flavor:r.footerFlavor}},[r._t("footer")],2):r._e()],1)],1)],1)};v._withStripped=!0;const b=function(r,e,n,t,o,a,d,s,p,i){"boolean"!=typeof d&&(p=s,s=d,d=!1);var l,f="function"==typeof n?n.options:n;if(r&&r.render&&(f.render=r.render,f.staticRenderFns=r.staticRenderFns,f._compiled=!0,o&&(f.functional=!0)),t&&(f._scopeId=t),a?(l=function(r){(r=r||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(r=__VUE_SSR_CONTEXT__),e&&e.call(this,p(r)),r&&r._registeredComponents&&r._registeredComponents.add(a)},f._ssrRegister=l):e&&(l=d?function(r){e.call(this,i(r,this.$root.$options.shadowRoot))}:function(r){e.call(this,s(r))}),l)if(f.functional){var u=f.render;f.render=function(r,e){return l.call(e),u(r,e)}}else{var m=f.beforeCreate;f.beforeCreate=m?[].concat(m,l):[l]}return n}({render:v,staticRenderFns:[]},(function(r){r&&r("data-v-03231482_0",{source:"\n.modal-hidden {\r\n  opacity: 0;\r\n  pointer-events: none;\n}\n.modal-hidden > div {\r\n  transform: translateY(-200px);\n}\r\n",map:{version:3,sources:["C:\\Users\\pedro\\Documents\\Personal Projects\\GitHub\\storybook\\src\\components\\Modal\\src\\Modal.vue"],names:[],mappings:";AAuPA;EACA,UAAA;EACA,oBAAA;AACA;AACA;EACA,6BAAA;AACA",file:"Modal.vue",sourcesContent:['<template>\r\n  <div>\r\n    <n-modal-backdrop :class="computedClass" @click="turnOff" ref="backdrop">\r\n      <n-modal-container :width="width" :top-offset="topOffset" ref="modal">\r\n        <n-modal-header :flavor="headerFlavor" v-if="header">\r\n          <slot name="header"></slot>\r\n        </n-modal-header>\r\n        <n-modal-body\r\n          :bottom-offset="!footer ? bottomOffset : \'0px\'"\r\n          :flavor="bodyFlavor"\r\n          :style="computedStyle"\r\n        >\r\n          <slot name="body"></slot>\r\n        </n-modal-body>\r\n        <n-modal-footer\r\n          :bottom-offset="bottomOffset"\r\n          :flavor="footerFlavor"\r\n          v-if="footer"\r\n        >\r\n          <slot name="footer"></slot>\r\n        </n-modal-footer>\r\n      </n-modal-container>\r\n    </n-modal-backdrop>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport styled from "vue-styled-components";\r\nimport Theme from "@IntusFacultas/design-system";\r\nconst props = {\r\n  flavor: String,\r\n  defaultTheme: {\r\n    type: Object,\r\n    default: function () {\r\n      return Theme;\r\n    },\r\n  },\r\n  width: String,\r\n  topOffset: String,\r\n  bottomOffset: String,\r\n};\r\nexport const NModalBackdrop = styled.div`\r\n  background-color: rgba(0, 0, 0, 0.35);\r\n  z-index: 999;\r\n  transition: 0.15s ease-in-out all;\r\n  position: fixed;\r\n  top: 0px;\r\n  left: 0px;\r\n  right: 0px;\r\n  overflow-y: auto;\r\n  bottom: 0px;\r\n  display: flex;\r\n  justify-content: center;\r\n  & > div {\r\n    transform: translateY(0px);\r\n  }\r\n`;\r\nexport const NModalContainer = styled("div", props)`\r\n  z-index: 1000;\r\n  margin-top: ${(props) => (props.topOffset ? props.topOffset : "20px")}\r\n  width: ${(props) => (props.width ? props.width : "500px")}\r\n  transition: .15s ease-in-out transform;\r\n`;\r\nexport const NModalHeader = styled("div", props)`\r\n  border-radius: 5px 5px 0px 0px;\r\n  padding: 10px 10px 10px 10px;\r\n  border: 1px solid\r\n    ${(props) =>\r\n      props.theme && props.theme[props.flavor]\r\n        ? props.theme[props.flavor].border.hover\r\n        : props.defaultTheme[props.flavor]\r\n        ? props.defaultTheme[props.flavor].border.hover\r\n        : "#aaa"};\r\n  background-color: ${(props) =>\r\n    props.theme && props.theme[props.flavor]\r\n      ? props.theme[props.flavor].background.color\r\n      : props.defaultTheme[props.flavor]\r\n      ? props.defaultTheme[props.flavor].background.color\r\n      : "white"};\r\n`;\r\nexport const NModalBody = styled("div", props)`\r\n  padding: 10px;\r\n  border: 1px solid\r\n    ${(props) =>\r\n      props.theme && props.theme[props.flavor]\r\n        ? props.theme[props.flavor].border.hover\r\n        : props.defaultTheme[props.flavor]\r\n        ? props.defaultTheme[props.flavor].border.hover\r\n        : "#aaa"};\r\n  background-color: ${(props) =>\r\n    props.theme && props.theme[props.flavor]\r\n      ? props.theme[props.flavor].background.color\r\n      : props.defaultTheme[props.flavor]\r\n      ? props.defaultTheme[props.flavor].background.color\r\n      : "white"};\r\n  border-width: 0px 1px 0px 1px;\r\n  border-style: solid;\r\n  margin-bottom: ${(props) =>\r\n    props.bottomOffset ? props.bottomOffset : "0px"};\r\n`;\r\nexport const NModalFooter = styled("div", props)`\r\n  padding: 10px;\r\n  border-radius: 0px 0px 5px 5px;\r\n\r\n  border: 1px solid\r\n    ${(props) =>\r\n      props.theme && props.theme[props.flavor]\r\n        ? props.theme[props.flavor].border.hover\r\n        : props.defaultTheme[props.flavor]\r\n        ? props.defaultTheme[props.flavor].border.hover\r\n        : "#aaa"};\r\n  background-color: ${(props) =>\r\n    props.theme && props.theme[props.flavor]\r\n      ? props.theme[props.flavor].background.color\r\n      : props.defaultTheme[props.flavor]\r\n      ? props.defaultTheme[props.flavor].background.color\r\n      : "white"};\r\n  margin-bottom: ${(props) =>\r\n    props.bottomOffset ? props.bottomOffset : "20px"};\r\n`;\r\n\r\nexport const Modal = {\r\n  components: {\r\n    NModalHeader,\r\n    NModalBody,\r\n    NModalFooter,\r\n    NModalBackdrop,\r\n    NModalContainer,\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n    };\r\n  },\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    backgroundDismiss: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    headerFlavor: {\r\n      type: String,\r\n      default: "",\r\n    },\r\n    footerFlavor: {\r\n      type: String,\r\n      default: "",\r\n    },\r\n    bodyFlavor: {\r\n      type: String,\r\n      default: "",\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: "500px",\r\n    },\r\n    topOffset: {\r\n      type: String,\r\n    },\r\n    bottomOffset: {\r\n      type: String,\r\n    },\r\n    header: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    footer: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  mounted() {\r\n    window.addEventListener(`modal-${this.id}`, this.detectChange);\r\n    (function () {\r\n      if (typeof window.CustomEvent === "function") return false;\r\n\r\n      function CustomEvent(event, params) {\r\n        params = params || {\r\n          bubbles: false,\r\n          cancelable: false,\r\n          detail: null,\r\n        };\r\n        var evt = document.createEvent("CustomEvent");\r\n        evt.initCustomEvent(\r\n          event,\r\n          params.bubbles,\r\n          params.cancelable,\r\n          params.detail\r\n        );\r\n        return evt;\r\n      }\r\n\r\n      window.CustomEvent = CustomEvent;\r\n    })();\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener(`modal-${this.id}`, this.detectChange);\r\n  },\r\n  methods: {\r\n    isDescendant(parent, child) {\r\n      var node = child.parentNode;\r\n      while (node != null) {\r\n        if (node == parent) {\r\n          return true;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n      return false;\r\n    },\r\n    turnOff(event) {\r\n      if (this.backgroundDismiss && this.$refs.backdrop.$el == event.target) {\r\n        this.visible = false;\r\n      }\r\n    },\r\n    detectChange(event) {\r\n      this.visible = event.detail.modal;\r\n    },\r\n  },\r\n  computed: {\r\n    computedClass() {\r\n      if (this.visible) {\r\n        return [];\r\n      }\r\n      return ["modal-hidden"];\r\n    },\r\n    computedStyle: function () {\r\n      var self = this;\r\n      let data = {\r\n        "border-top-left-radius": self.header ? "0px" : "5px",\r\n        "border-top-right-radius": self.header ? "0px" : "5px",\r\n        "border-bottom-left-radius": self.footer ? "0px" : "5px",\r\n        "border-bottom-right-radius": self.footer ? "0px" : "5px",\r\n        "border-top-width": self.header ? "0px" : "1px",\r\n        "border-bottom-width": self.footer ? "0px" : "1px",\r\n      };\r\n      return data;\r\n    },\r\n  },\r\n};\r\n\r\nexport default Modal;\r\n<\/script>\r\n\r\n<style>\r\n.modal-hidden {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n}\r\n.modal-hidden > div {\r\n  transform: translateY(-200px);\r\n}\r\n</style>\r\n']},media:void 0})}),h,void 0,!1,void 0,!1,(function(r){return function(r,e){return function(r,e){var n=m?e.media||"default":r,t=c[n]||(c[n]={ids:new Set,styles:[]});if(!t.ids.has(r)){t.ids.add(r);var o=e.source;if(e.map&&(o+="\n/*# sourceURL="+e.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),t.element||(t.element=document.createElement("style"),t.element.type="text/css",e.media&&t.element.setAttribute("media",e.media),void 0===u&&(u=document.head||document.getElementsByTagName("head")[0]),u.appendChild(t.element)),"styleSheet"in t.element)t.styles.push(o),t.element.styleSheet.cssText=t.styles.filter(Boolean).join("\n");else{var a=t.ids.size-1,d=document.createTextNode(o),s=t.element.childNodes;s[a]&&t.element.removeChild(s[a]),s.length?t.element.insertBefore(d,s[a]):t.element.appendChild(d)}}}(r,e)}}),void 0,void 0);var x=function(r){x.installed||(x.installed=!0,r.component("Modal",b))},g={install:x},y=null;"undefined"!=typeof window?y=window.Vue:"undefined"!=typeof global&&(y=global.Vue),y&&y.use(g),b.install=x;export default b;export{b as Modal};
