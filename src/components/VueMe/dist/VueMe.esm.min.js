import n from"vue-styled-components";import{Theme as e}from"@IntusFacultas/design-system";import{SubSectionTitle as t}from"@IntusFacultas/typography";import{DialogButton as r}from"@IntusFacultas/button";import{VueInput as o}from"@IntusFacultas/input";import{FlexRow as i,FlexColumn as a}from"@IntusFacultas/layout";function s(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function l(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){if(!(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n)))return;var t=[],r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(n){o=!0,i=n}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(){var n=s(["\n  margin-top: 15px;\n  display: flex;\n  justify-content: flex-end;\n"]);return d=function(){return n},n}function u(){var n=s([""]);return u=function(){return n},n}function f(){var n=s(['\n  width: 100%;\n  font-family: "Open Sans Regular", -apple-system, BlinkMacSystemFont,\n    "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji",\n    "Segoe UI Emoji", "Segoe UI Symbol";\n  padding: 10px;\n  word-break: break-word;\n']);return f=function(){return n},n}function c(){var n=s(["\n  z-index: ",";\n  background-color: #fff;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-top: solid 7px\n    ",";\n  border-radius: 0.25rem;\n  min-width: ","px;\n  display: flex;\n  transition: all 0.4s;\n  transform: scale(0);\n  transition-timing-function: cubic-bezier(0.36, 0.55, 0.19, 1);\n"]);return c=function(){return n},n}function p(){var n=s(["\n  display: flex;\n"]);return p=function(){return n},n}function m(){var n=s(["\n  background-color: #444;\n  opacity: 0;\n  z-index: ",";\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  transition-duration: 0.4s;\n  transition-timing-function: cubic-bezier(0.36, 0.55, 0.19, 1);\n  transition-property: opacity;\n  animation: vueme-fadein 0.4s;\n"]);return m=function(){return n},n}function A(){var n=s(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  position: fixed;\n  width: 100%;\n  z-index: ",";\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n"]);return A=function(){return n},n}var h={zIndex:{type:Number,default:0},width:{type:Number,default:360},flavor:String,defaultTheme:{type:Object,default:function(){return e}}},b={components:{VueMeDialog:{components:{VueMeDialogContainer:n("div",h)(A(),(function(n){return n.zIndex+1999})),VueMeBackdrop:n("div",h)(m(),(function(n){return n.zIndex+1999})),VueMeTitleContainer:n.div(p()),VueMeDialogBox:n("div",h)(c(),(function(n){return n.zIndex+2e3}),(function(n){return n.theme&&n.theme[n.flavor]?n.theme[n.flavor].border.color:n.defaultTheme[n.flavor]?n.defaultTheme[n.flavor].border.color:"white"}),(function(n){return n.width})),VueMeDialogContentContainer:n.div(f()),VueMeDialogContent:n.div(u()),VueMeDialogButtonContainer:n.div(d()),SubSectionTitle:t,DialogButton:r,VueInput:o,FlexRow:i,FlexColumn:a},data:function(){return{show:!1,intervalId:-1,shaking:!1,enabled:!1,fieldValues:[],internalCloseTime:0}},props:{flavor:{type:String,default:""},id:{type:Number,required:!0},parent:{type:Object,required:!0},zIndex:{type:Number,default:0},closeTime:{type:Number,default:0},autoCloseIndex:{type:Number,default:-1},autoClose:{type:Boolean,default:!1},title:{type:String,default:"Alert"},icon:{type:String,default:""},width:{type:Number,default:360},content:{type:String,default:"You forgot to provide content"},fields:{type:Array,default:function(){return[]}},backgroundDismiss:{type:Boolean,default:!0},buttons:{type:Array,default:function(){return[{id:1,flavor:"",text:"Close",action:function(){}}]}}},mounted:function(){var n=this;this.$nextTick((function(){n.open()}))},methods:{open:function(){this.show=!0,this.enabled=!0,this.internalCloseTime=this.closeTime,this.autoClose&&this.beginAutoClose();var n=this;setTimeout((function(){n.$refs.backdrop.$el.classList.add("vueme-dialog-backdrop-open"),n.$refs.dialogBox.$el.classList.add("vueme-dialog-open")}),50)},handleAutoClose:function(){0==this.internalCloseTime?(clearInterval(this.intervalId),this.callFunction(this.buttons[this.autoCloseIndex])):this.internalCloseTime--},beginAutoClose:function(){this.intervalId=setInterval(this.handleAutoClose,1e3)},callFunction:function(n){this.enabled&&(!1!==n.action(this.fieldValues)&&this.close())},close:function(){if(this.enabled&&!this.shaking){this.enabled=!1,this&&this.$refs&&this.$refs.dialogBox&&(this.$refs.dialogBox.$el.classList.remove("vueme-dialog-open"),this.$refs.dialogBox.$el.classList.add("vueme-dismiss-dialog")),this&&this.$refs&&this.$refs.backdrop&&this.$refs.backdrop.$el.classList.remove("vueme-dialog-backdrop-open");var n=this;setTimeout((function(){n.show=!1,n.show=!1,n.$destroy(),n.$el.parentNode.removeChild(n.$el),n.parent.close(n.id)}),420)}},closeDialog:function(){if(this.enabled)if(this.backgroundDismiss)this.close();else{this&&this.$refs&&this.$refs.dialogBox&&this.$refs.dialogBox.$el.classList.add("vueme-shake-dialog");var n=this;this.shaking=!0,setTimeout((function(){n.shaking=!1,n&&n.$refs&&n.$refs.dialogBox&&n.$refs.dialogBox.$el.classList.remove("vueme-shake-dialog")}),1e3)}}},template:'\n  <vue-me-dialog-container :z-index="zIndex">\n    <vue-me-backdrop\n      ref="backdrop"\n      :class="{\'vueme-dialog-backdrop-open\' : show}"\n      :z-index="zIndex"\n      @click="closeDialog"\n    ></vue-me-backdrop>\n      <vue-me-dialog-box\n        ref="dialogBox"\n        :flavor="flavor"\n        :width="width"\n      >\n        <vue-me-dialog-content-container>\n          <vue-me-title-container>\n            <span v-html="icon"></span>\n            <sub-section-title class="vue-me-title">{{title}}</sub-section-title>\n          </vue-me-title-container>\n          <vue-me-dialog-content>\n            <div v-html="content"></div>\n            <form v-if="fields.length > 0">\n              <vue-input\n                v-for="field in fields"\n                :key="\'field\' + field.id"\n                :name="\'vueMeField\' + field.id"\n                :input-type="field.type"\n                :label="field.label"\n                v-model="fieldValues[field.id]"\n              ></vue-input>\n            </form>\n            <vue-me-dialog-button-container>\n              <dialog-button\n                v-for="(button, index) in buttons"\n                :key="\'button\' + button.id"\n                @click="callFunction(button)"\n                :flavor="button.flavor"\n                :small="true"\n                :disabled="shaking"\n              >\n                {{button.text}}\n                <span v-if="index == autoCloseIndex">({{internalCloseTime}})</span>\n              </dialog-button>\n            </vue-me-dialog-button-container>\n          </vue-me-dialog-content>\n        </vue-me-dialog-content-container>\n      </vue-me-dialog-box>\n  </vue-me-dialog-container>\n  '}},name:"vue-me",data:function(){return{alerts:[],availableId:0,availalbeAlertId:0,deletedAlerts:[]}},props:{parentInstance:{type:Object,default:""}},mounted:function(){this.parentInstance.$alert=this.alert,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(n,e){if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},writable:!0,configurable:!0})},watch:{deletedAlerts:function(n,e){this.deletedAlerts.length==this.alerts.length&&0!=this.deletedAlerts.length&&(this.alerts=[],this.deletedAlerts=[])}},methods:{close:function(n){this.deletedAlerts.push(n)},formatField:function(n){var e="Label";n.label&&(e=n.label);var t="text";n.type&&(t=n.type);var r=e+"-"+t;return n.id&&(r=n.id),{id:r,label:e,type:t}},formatButton:function(n){var e="Button";n.text&&(e=n.text);var t="Primary";n.flavor&&(t=n.flavor);var r=function(){};n.action&&(r=n.action);var o=this.availableId++;return n.id&&(o=n.id),{id:o,text:e,flavor:t,action:r}},alert:function(n){var e={id:this.availalbeAlertId++,parent:this},t="";n.flavor&&(t=n.flavor),e.flavor=t;var r=360;n.width&&(r=n.width),e.width=r;var o="Alert";"string"==typeof n.title&&(o=n.title),e.title=o;var i="";n.icon&&(i=n.icon),e.icon=i;var a="This is an alert.";"string"==typeof n.content&&(a=n.content),e.content=a;var s=!1;n.backgroundDismiss&&(s=n.backgroundDismiss),e.backgroundDismiss=s;var d=[this.formatButton({})];if(n.buttons&&Array.isArray(n.buttons)){d=[];for(var u=0;u<n.buttons.length;u++)d.push(this.formatButton(n.buttons[u]))}e.buttons=d;var f=[];if(n.fields&&Array.isArray(n.fields)){f=[];var c=!0,p=!1,m=void 0;try{for(var A,h=n.fields[Symbol.iterator]();!(c=(A=h.next()).done);c=!0){var b=A.value;f.push(this.formatField(b))}}catch(n){p=!0,m=n}finally{try{c||null==h.return||h.return()}finally{if(p)throw m}}}e.fields=f;var v=n.autoClose;if(v){e.autoClose=!0,v=v.split("|"),e.closeTime=Math.ceil(parseInt(v[1])/1e3);var g=!0,y=!1,x=void 0;try{for(var C,k=e.buttons.entries()[Symbol.iterator]();!(g=(C=k.next()).done);g=!0){var w=l(C.value,2),I=w[0];if(w[1].id==v[0]){e.autoCloseIndex=I;break}}}catch(n){y=!0,x=n}finally{try{g||null==k.return||k.return()}finally{if(y)throw x}}}this.alerts.push(Object.assign({},e))}}};var v,g="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var y={};const x=b;var C=function(){var n=this.$createElement,e=this._self._c||n;return e("div",this._l(this.alerts,(function(n,t){return e("vue-me-dialog",{key:t,attrs:{flavor:n.flavor,id:n.id,parent:n.parent,zIndex:n.zIndex,closeTime:n.closeTime,autoCloseIndex:n.autoCloseIndex,autoClose:n.autoClose,title:n.title,icon:n.icon,width:n.width,content:n.content,fields:n.fields,backgroundDismiss:n.backgroundDismiss,buttons:n.buttons}})})),1)};C._withStripped=!0;const k=function(n,e,t,r,o,i,a,s,l,d){"boolean"!=typeof a&&(l=s,s=a,a=!1);var u,f="function"==typeof t?t.options:t;if(n&&n.render&&(f.render=n.render,f.staticRenderFns=n.staticRenderFns,f._compiled=!0,o&&(f.functional=!0)),r&&(f._scopeId=r),i?(u=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),e&&e.call(this,l(n)),n&&n._registeredComponents&&n._registeredComponents.add(i)},f._ssrRegister=u):e&&(u=a?function(n){e.call(this,d(n,this.$root.$options.shadowRoot))}:function(n){e.call(this,s(n))}),u)if(f.functional){var c=f.render;f.render=function(n,e){return u.call(e),c(n,e)}}else{var p=f.beforeCreate;f.beforeCreate=p?[].concat(p,u):[u]}return t}({render:C,staticRenderFns:[]},(function(n){n&&n("data-v-38a4196f_0",{source:"\n.vue-me-title {\r\n  margin: 0px;\n}\n.vueme-dialog-backdrop-open {\r\n  opacity: 0.2;\n}\n.vueme-dialog-open {\r\n  transform: scale(1);\n}\n.vueme-dismiss-dialog {\r\n  transition: all 0.4s;\r\n  transition-timing-function: cubic-bezier(0.36, 0.55, 0.19, 1);\r\n  transform: scale(0);\r\n  display: block;\n}\n.vueme-shake-dialog {\r\n  -webkit-animation: shake 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\r\n  animation: shake 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\r\n  -webkit-transform: translate3d(0, 0, 0);\r\n  transform: translate3d(0, 0, 0);\n}\n@keyframes vueme-fadein {\nfrom {\r\n    opacity: 0;\n}\nto {\r\n    opacity: 0.2;\n}\n}\n@keyframes shake {\n10%,\r\n  90% {\r\n    -webkit-transform: translate3d(-2px, 0, 0);\r\n    transform: translate3d(-2px, 0, 0);\n}\n20%,\r\n  80% {\r\n    -webkit-transform: translate3d(4px, 0, 0);\r\n    transform: translate3d(4px, 0, 0);\n}\n30%,\r\n  50%,\r\n  70% {\r\n    -webkit-transform: translate3d(-8px, 0, 0);\r\n    transform: translate3d(-8px, 0, 0);\n}\n40%,\r\n  60% {\r\n    -webkit-transform: translate3d(8px, 0, 0);\r\n    transform: translate3d(8px, 0, 0);\n}\n}\n@-ms-keyframes shake {\n10%,\r\n  90% {\r\n    -webkit-transform: translate3d(-2px, 0, 0);\r\n    transform: translate3d(-2px, 0, 0);\n}\n20%,\r\n  80% {\r\n    -webkit-transform: translate3d(4px, 0, 0);\r\n    transform: translate3d(4px, 0, 0);\n}\n30%,\r\n  50%,\r\n  70% {\r\n    -webkit-transform: translate3d(-8px, 0, 0);\r\n    transform: translate3d(-8px, 0, 0);\n}\n40%,\r\n  60% {\r\n    -webkit-transform: translate3d(8px, 0, 0);\r\n    transform: translate3d(8px, 0, 0);\n}\n}\r\n",map:{version:3,sources:["C:\\Users\\pedro\\Documents\\Personal Projects\\GitHub\\storybook\\src\\components\\VueMe\\src\\VueMe.vue"],names:[],mappings:";AAwgBA;EACA,WAAA;AACA;AACA;EACA,YAAA;AACA;AACA;EACA,mBAAA;AACA;AACA;EACA,oBAAA;EACA,6DAAA;EACA,mBAAA;EACA,cAAA;AACA;AACA;EACA,wEAAA;EACA,gEAAA;EACA,uCAAA;EACA,+BAAA;AACA;AACA;AACA;IACA,UAAA;AACA;AACA;IACA,YAAA;AACA;AACA;AACA;AACA;;IAEA,0CAAA;IACA,kCAAA;AACA;AACA;;IAEA,yCAAA;IACA,iCAAA;AACA;AACA;;;IAGA,0CAAA;IACA,kCAAA;AACA;AACA;;IAEA,yCAAA;IACA,iCAAA;AACA;AACA;AACA;AACA;;IAEA,0CAAA;IACA,kCAAA;AACA;AACA;;IAEA,yCAAA;IACA,iCAAA;AACA;AACA;;;IAGA,0CAAA;IACA,kCAAA;AACA;AACA;;IAEA,yCAAA;IACA,iCAAA;AACA;AACA",file:"VueMe.vue",sourcesContent:['<template>\r\n  <div>\r\n    <vue-me-dialog\r\n      v-for="(alert, index) in alerts"\r\n      :key="index"\r\n      :flavor="alert.flavor"\r\n      :id="alert.id"\r\n      :parent="alert.parent"\r\n      :zIndex="alert.zIndex"\r\n      :closeTime="alert.closeTime"\r\n      :autoCloseIndex="alert.autoCloseIndex"\r\n      :autoClose="alert.autoClose"\r\n      :title="alert.title"\r\n      :icon="alert.icon"\r\n      :width="alert.width"\r\n      :content="alert.content"\r\n      :fields="alert.fields"\r\n      :backgroundDismiss="alert.backgroundDismiss"\r\n      :buttons="alert.buttons"\r\n    ></vue-me-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// changing the file to try and force git to recognize the capitalization change\r\nimport styled from "vue-styled-components";\r\nimport { Theme } from "@IntusFacultas/design-system";\r\nimport { SubSectionTitle } from "@IntusFacultas/typography";\r\nimport { DialogButton } from "@IntusFacultas/button";\r\nimport { VueInput } from "@IntusFacultas/input";\r\nimport { FlexRow, FlexColumn } from "@IntusFacultas/layout";\r\nconst props = {\r\n  zIndex: {\r\n    type: Number,\r\n    default: 0,\r\n  },\r\n  width: {\r\n    type: Number,\r\n    default: 360,\r\n  },\r\n  flavor: String,\r\n  defaultTheme: {\r\n    type: Object,\r\n    default: function () {\r\n      return Theme;\r\n    },\r\n  },\r\n};\r\nconst VueMeDialogContainer = styled("div", props)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  position: fixed;\r\n  width: 100%;\r\n  z-index: ${(props) => props.zIndex + 1999};\r\n  top: 0px;\r\n  bottom: 0px;\r\n  left: 0px;\r\n  right: 0px;\r\n`;\r\nconst VueMeBackdrop = styled("div", props)`\r\n  background-color: #444;\r\n  opacity: 0;\r\n  z-index: ${(props) => props.zIndex + 1999};\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  transition-duration: 0.4s;\r\n  transition-timing-function: cubic-bezier(0.36, 0.55, 0.19, 1);\r\n  transition-property: opacity;\r\n  animation: vueme-fadein 0.4s;\r\n`;\r\nconst VueMeTitleContainer = styled.div`\r\n  display: flex;\r\n`;\r\nconst VueMeDialogBox = styled("div", props)`\r\n  z-index: ${(props) => props.zIndex + 2000};\r\n  background-color: #fff;\r\n  border: 1px solid rgba(0, 0, 0, 0.125);\r\n  border-top: solid 7px\r\n    ${(props) =>\r\n      props.theme && props.theme[props.flavor]\r\n        ? props.theme[props.flavor].border.color\r\n        : props.defaultTheme[props.flavor]\r\n        ? props.defaultTheme[props.flavor].border.color\r\n        : "white"};\r\n  border-radius: 0.25rem;\r\n  min-width: ${(props) => props.width}px;\r\n  display: flex;\r\n  transition: all 0.4s;\r\n  transform: scale(0);\r\n  transition-timing-function: cubic-bezier(0.36, 0.55, 0.19, 1);\r\n`;\r\nconst VueMeDialogContentContainer = styled.div`\r\n  width: 100%;\r\n  font-family: "Open Sans Regular", -apple-system, BlinkMacSystemFont,\r\n    "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji",\r\n    "Segoe UI Emoji", "Segoe UI Symbol";\r\n  padding: 10px;\r\n  word-break: break-word;\r\n`;\r\nconst VueMeDialogContent = styled.div``;\r\nconst VueMeDialogButtonContainer = styled.div`\r\n  margin-top: 15px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`;\r\nconst VueMeDialog = {\r\n  components: {\r\n    VueMeDialogContainer,\r\n    VueMeBackdrop,\r\n    VueMeTitleContainer,\r\n    VueMeDialogBox,\r\n    VueMeDialogContentContainer,\r\n    VueMeDialogContent,\r\n    VueMeDialogButtonContainer,\r\n    SubSectionTitle,\r\n    DialogButton,\r\n    VueInput,\r\n    FlexRow,\r\n    FlexColumn,\r\n  },\r\n  data() {\r\n    return {\r\n      show: false,\r\n      intervalId: -1,\r\n      shaking: false,\r\n      enabled: false,\r\n      fieldValues: [],\r\n      internalCloseTime: 0,\r\n    };\r\n  },\r\n  props: {\r\n    flavor: {\r\n      type: String,\r\n      default: "",\r\n    },\r\n    id: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    parent: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    zIndex: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    closeTime: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    autoCloseIndex: {\r\n      type: Number,\r\n      default: -1,\r\n    },\r\n    autoClose: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: "Alert",\r\n    },\r\n    icon: {\r\n      type: String,\r\n      default: "",\r\n    },\r\n    width: {\r\n      type: Number,\r\n      default: 360,\r\n    },\r\n    content: {\r\n      type: String,\r\n      default: "You forgot to provide content",\r\n    },\r\n    fields: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    backgroundDismiss: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    buttons: {\r\n      type: Array,\r\n      default() {\r\n        return [\r\n          {\r\n            id: 1,\r\n            flavor: "",\r\n            text: "Close",\r\n            action: function () {\r\n              // empty\r\n            },\r\n          },\r\n        ];\r\n      },\r\n    },\r\n  },\r\n  mounted() {\r\n    let self = this;\r\n    this.$nextTick(function () {\r\n      self.open();\r\n    });\r\n  },\r\n  methods: {\r\n    open: function () {\r\n      this.show = true;\r\n      this.enabled = true;\r\n      this.internalCloseTime = this.closeTime;\r\n      if (this.autoClose) {\r\n        this.beginAutoClose();\r\n      }\r\n      let self = this;\r\n      setTimeout(function () {\r\n        self.$refs.backdrop.$el.classList.add("vueme-dialog-backdrop-open");\r\n        self.$refs.dialogBox.$el.classList.add("vueme-dialog-open");\r\n      }, 50);\r\n    },\r\n    handleAutoClose: function () {\r\n      if (this.internalCloseTime == 0) {\r\n        clearInterval(this.intervalId);\r\n        this.callFunction(this.buttons[this.autoCloseIndex]);\r\n      } else {\r\n        this.internalCloseTime--;\r\n      }\r\n    },\r\n    beginAutoClose: function () {\r\n      this.intervalId = setInterval(this.handleAutoClose, 1000);\r\n    },\r\n    callFunction: function (button) {\r\n      if (this.enabled) {\r\n        var close = button.action(this.fieldValues);\r\n        if (close !== false) {\r\n          this.close();\r\n        }\r\n      }\r\n    },\r\n    close: function () {\r\n      if (this.enabled && !this.shaking) {\r\n        this.enabled = false;\r\n        if (this && this.$refs && this.$refs.dialogBox) {\r\n          this.$refs.dialogBox.$el.classList.remove("vueme-dialog-open");\r\n          this.$refs.dialogBox.$el.classList.add("vueme-dismiss-dialog");\r\n        }\r\n        if (this && this.$refs && this.$refs.backdrop)\r\n          this.$refs.backdrop.$el.classList.remove(\r\n            "vueme-dialog-backdrop-open"\r\n          );\r\n        let self = this;\r\n        setTimeout(function () {\r\n          self.show = false;\r\n          self.show = false;\r\n          // destroy the vue listeners, etc\r\n          self.$destroy();\r\n\r\n          // remove the element from the DOM\r\n          self.$el.parentNode.removeChild(self.$el);\r\n          self.parent.close(self.id);\r\n        }, 420);\r\n      }\r\n    },\r\n    closeDialog: function () {\r\n      if (!this.enabled) {\r\n        return;\r\n      }\r\n      if (this.backgroundDismiss) {\r\n        this.close();\r\n      } else {\r\n        if (this && this.$refs && this.$refs.dialogBox)\r\n          this.$refs.dialogBox.$el.classList.add("vueme-shake-dialog");\r\n        let self = this;\r\n        this.shaking = true;\r\n        setTimeout(function () {\r\n          self.shaking = false;\r\n          if (self && self.$refs && self.$refs.dialogBox)\r\n            self.$refs.dialogBox.$el.classList.remove("vueme-shake-dialog");\r\n        }, 1000);\r\n      }\r\n    },\r\n  },\r\n  template: `\r\n  <vue-me-dialog-container :z-index="zIndex">\r\n    <vue-me-backdrop\r\n      ref="backdrop"\r\n      :class="{\'vueme-dialog-backdrop-open\' : show}"\r\n      :z-index="zIndex"\r\n      @click="closeDialog"\r\n    ></vue-me-backdrop>\r\n      <vue-me-dialog-box\r\n        ref="dialogBox"\r\n        :flavor="flavor"\r\n        :width="width"\r\n      >\r\n        <vue-me-dialog-content-container>\r\n          <vue-me-title-container>\r\n            <span v-html="icon"></span>\r\n            <sub-section-title class="vue-me-title">{{title}}</sub-section-title>\r\n          </vue-me-title-container>\r\n          <vue-me-dialog-content>\r\n            <div v-html="content"></div>\r\n            <form v-if="fields.length > 0">\r\n              <vue-input\r\n                v-for="field in fields"\r\n                :key="\'field\' + field.id"\r\n                :name="\'vueMeField\' + field.id"\r\n                :input-type="field.type"\r\n                :label="field.label"\r\n                v-model="fieldValues[field.id]"\r\n              ></vue-input>\r\n            </form>\r\n            <vue-me-dialog-button-container>\r\n              <dialog-button\r\n                v-for="(button, index) in buttons"\r\n                :key="\'button\' + button.id"\r\n                @click="callFunction(button)"\r\n                :flavor="button.flavor"\r\n                :small="true"\r\n                :disabled="shaking"\r\n              >\r\n                {{button.text}}\r\n                <span v-if="index == autoCloseIndex">({{internalCloseTime}})</span>\r\n              </dialog-button>\r\n            </vue-me-dialog-button-container>\r\n          </vue-me-dialog-content>\r\n        </vue-me-dialog-content-container>\r\n      </vue-me-dialog-box>\r\n  </vue-me-dialog-container>\r\n  `,\r\n};\r\nexport const VueMe = {\r\n  components: { VueMeDialog },\r\n  name: "vue-me",\r\n  data() {\r\n    return {\r\n      alerts: [],\r\n      availableId: 0,\r\n      availalbeAlertId: 0,\r\n      deletedAlerts: [],\r\n    };\r\n  },\r\n  props: {\r\n    parentInstance: {\r\n      type: Object,\r\n      default: "",\r\n    },\r\n  },\r\n  mounted: function () {\r\n    this.parentInstance.$alert = this.alert;\r\n    if (typeof Object.assign !== "function") {\r\n      // Must be writable: true, enumerable: false, configurable: true\r\n      Object.defineProperty(Object, "assign", {\r\n        value: function assign(target, varArgs) {\r\n          // .length of function is 2\r\n          "use strict";\r\n          if (target === null || target === undefined) {\r\n            throw new TypeError("Cannot convert undefined or null to object");\r\n          }\r\n\r\n          var to = Object(target);\r\n\r\n          for (var index = 1; index < arguments.length; index++) {\r\n            var nextSource = arguments[index];\r\n\r\n            if (nextSource !== null && nextSource !== undefined) {\r\n              for (var nextKey in nextSource) {\r\n                // Avoid bugs when hasOwnProperty is shadowed\r\n                if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                  to[nextKey] = nextSource[nextKey];\r\n                }\r\n              }\r\n            }\r\n          }\r\n          return to;\r\n        },\r\n        writable: true,\r\n        configurable: true,\r\n      });\r\n    }\r\n  },\r\n  watch: {\r\n    deletedAlerts(newVal, oldVal) {\r\n      // we do this because if we change the alerts array while we still have alerts visible, it causes a re render but\r\n      // not a re-mount so the alerts "disappear". So we wait to delete from array until all alerts are no longer visible\r\n      if (\r\n        this.deletedAlerts.length == this.alerts.length &&\r\n        this.deletedAlerts.length != 0\r\n      ) {\r\n        this.alerts = [];\r\n        this.deletedAlerts = [];\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    close: function close(id) {\r\n      this.deletedAlerts.push(id);\r\n    },\r\n    formatField: function (field) {\r\n      var label = "Label";\r\n      if (field.label) {\r\n        label = field.label;\r\n      }\r\n      var fieldType = "text";\r\n      if (field.type) {\r\n        fieldType = field.type;\r\n      }\r\n      var id = label + "-" + fieldType;\r\n      if (field.id) {\r\n        id = field.id;\r\n      }\r\n      return {\r\n        id: id,\r\n        label: label,\r\n        type: fieldType,\r\n      };\r\n    },\r\n    formatButton: function (button) {\r\n      var text = "Button";\r\n      if (button.text) {\r\n        text = button.text;\r\n      }\r\n      var flavor = "Primary";\r\n      if (button.flavor) {\r\n        flavor = button.flavor;\r\n      }\r\n      var action = function () {};\r\n      if (button.action) {\r\n        action = button.action;\r\n      }\r\n      var id = this.availableId++;\r\n      if (button.id) {\r\n        id = button.id;\r\n      }\r\n      return {\r\n        id: id,\r\n        text: text,\r\n        flavor: flavor,\r\n        action: action,\r\n      };\r\n    },\r\n    alert: function (options) {\r\n      let dialogConfiguration = {\r\n        id: this.availalbeAlertId++,\r\n        parent: this,\r\n      };\r\n      let flavor = "";\r\n      if (options.flavor) {\r\n        flavor = options.flavor;\r\n      }\r\n      dialogConfiguration.flavor = flavor;\r\n      let width = 360;\r\n      if (options.width) {\r\n        width = options.width;\r\n      }\r\n      dialogConfiguration.width = width;\r\n      let title = "Alert";\r\n      if (typeof options.title == "string") {\r\n        title = options.title;\r\n      }\r\n      dialogConfiguration.title = title;\r\n      let icon = "";\r\n      if (options.icon) {\r\n        icon = options.icon;\r\n      }\r\n      dialogConfiguration.icon = icon;\r\n      let content = "This is an alert.";\r\n      if (typeof options.content == "string") {\r\n        content = options.content;\r\n      }\r\n      dialogConfiguration.content = content;\r\n      let backgroundDismiss = false;\r\n      if (options.backgroundDismiss) {\r\n        backgroundDismiss = options.backgroundDismiss;\r\n      }\r\n      dialogConfiguration.backgroundDismiss = backgroundDismiss;\r\n      let buttons = [this.formatButton({})];\r\n      if (options.buttons && Array.isArray(options.buttons)) {\r\n        buttons = [];\r\n        for (let x = 0; x < options.buttons.length; x++) {\r\n          buttons.push(this.formatButton(options.buttons[x]));\r\n        }\r\n      }\r\n      dialogConfiguration.buttons = buttons;\r\n      let fields = [];\r\n      if (options.fields && Array.isArray(options.fields)) {\r\n        fields = [];\r\n        for (let field of options.fields) {\r\n          fields.push(this.formatField(field));\r\n        }\r\n      }\r\n      dialogConfiguration.fields = fields;\r\n      let autoClose = options.autoClose;\r\n      if (autoClose) {\r\n        dialogConfiguration.autoClose = true;\r\n        autoClose = autoClose.split("|");\r\n        dialogConfiguration.closeTime = Math.ceil(\r\n          parseInt(autoClose[1]) / 1000\r\n        );\r\n        for (let [index, button] of dialogConfiguration.buttons.entries()) {\r\n          if (button.id == autoClose[0]) {\r\n            dialogConfiguration.autoCloseIndex = index;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      this.alerts.push(Object.assign({}, dialogConfiguration));\r\n    },\r\n  },\r\n};\r\nexport default VueMe;\r\n<\/script>\r\n\r\n<style>\r\n.vue-me-title {\r\n  margin: 0px;\r\n}\r\n.vueme-dialog-backdrop-open {\r\n  opacity: 0.2;\r\n}\r\n.vueme-dialog-open {\r\n  transform: scale(1);\r\n}\r\n.vueme-dismiss-dialog {\r\n  transition: all 0.4s;\r\n  transition-timing-function: cubic-bezier(0.36, 0.55, 0.19, 1);\r\n  transform: scale(0);\r\n  display: block;\r\n}\r\n.vueme-shake-dialog {\r\n  -webkit-animation: shake 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\r\n  animation: shake 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\r\n  -webkit-transform: translate3d(0, 0, 0);\r\n  transform: translate3d(0, 0, 0);\r\n}\r\n@keyframes vueme-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 0.2;\r\n  }\r\n}\r\n@keyframes shake {\r\n  10%,\r\n  90% {\r\n    -webkit-transform: translate3d(-2px, 0, 0);\r\n    transform: translate3d(-2px, 0, 0);\r\n  }\r\n  20%,\r\n  80% {\r\n    -webkit-transform: translate3d(4px, 0, 0);\r\n    transform: translate3d(4px, 0, 0);\r\n  }\r\n  30%,\r\n  50%,\r\n  70% {\r\n    -webkit-transform: translate3d(-8px, 0, 0);\r\n    transform: translate3d(-8px, 0, 0);\r\n  }\r\n  40%,\r\n  60% {\r\n    -webkit-transform: translate3d(8px, 0, 0);\r\n    transform: translate3d(8px, 0, 0);\r\n  }\r\n}\r\n@-ms-keyframes shake {\r\n  10%,\r\n  90% {\r\n    -webkit-transform: translate3d(-2px, 0, 0);\r\n    transform: translate3d(-2px, 0, 0);\r\n  }\r\n  20%,\r\n  80% {\r\n    -webkit-transform: translate3d(4px, 0, 0);\r\n    transform: translate3d(4px, 0, 0);\r\n  }\r\n  30%,\r\n  50%,\r\n  70% {\r\n    -webkit-transform: translate3d(-8px, 0, 0);\r\n    transform: translate3d(-8px, 0, 0);\r\n  }\r\n  40%,\r\n  60% {\r\n    -webkit-transform: translate3d(8px, 0, 0);\r\n    transform: translate3d(8px, 0, 0);\r\n  }\r\n}\r\n</style>\r\n']},media:void 0})}),x,void 0,!1,void 0,!1,(function(n){return function(n,e){return function(n,e){var t=g?e.media||"default":n,r=y[t]||(y[t]={ids:new Set,styles:[]});if(!r.ids.has(n)){r.ids.add(n);var o=e.source;if(e.map&&(o+="\n/*# sourceURL="+e.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",e.media&&r.element.setAttribute("media",e.media),void 0===v&&(v=document.head||document.getElementsByTagName("head")[0]),v.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(o),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{var i=r.ids.size-1,a=document.createTextNode(o),s=r.element.childNodes;s[i]&&r.element.removeChild(s[i]),s.length?r.element.insertBefore(a,s[i]):r.element.appendChild(a)}}}(n,e)}}),void 0,void 0);var w=function(n){w.installed||(w.installed=!0,n.component("VueMe",k))},I={install:w},$=null;"undefined"!=typeof window?$=window.Vue:"undefined"!=typeof global&&($=global.Vue),$&&$.use(I),k.install=w;export default k;export{k as VueMe};
