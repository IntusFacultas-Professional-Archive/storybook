import e from"vue-styled-components";function n(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function r(){var e=n(["\n  width: calc(100% - 85px);\n  display: inline-block;\n"]);return r=function(){return e},e}function t(){var e=n(["\n  animation: shimmer 2.5s infinite;\n  background: linear-gradient(to right, #eff1f3 4%, #e2e2e2 25%, #eff1f3 36%);\n  background-size: 1000px 100%;\n  height: ",";\n  margin: 10px 10px;\n  border-radius: 8px;\n  width: ",";\n"]);return t=function(){return e},e}function a(){var e=n(["\n  animation: shimmer 2.5s infinite;\n  background: linear-gradient(to right, #eff1f3 4%, #e2e2e2 25%, #eff1f3 36%);\n  background-size: 1000px 100%;\n  height: 10px;\n  display: inline-block;\n  margin: 10px 0px;\n  border-radius: 8px;\n  width: ","%;\n"]);return a=function(){return e},e}function i(){var e=n(["\n  height: ",";\n  padding: 15px;\n"]);return i=function(){return e},e}var l={height:{type:String,default:"50px"},width:{type:String,default:"50px"}},o=e("div",l)(i(),(function(e){return e.height})),p=e("div",l)(a(),(function(e){return e.width})),s=e("div",l)(t(),(function(e){return e.height}),(function(e){return e.width})),d={components:{PlaceholderContainer:o,PlaceholderLine:p,PlaceholderParagraph:{components:{PlaceholderLine:p,PlaceholderPicture:s,ParagraphLineHolder:e.div(r())},methods:{getWidth:function(){return 15*Math.random()+85}},template:'\n    <div>\n        <div>\n            <placeholder-picture height="78px" width="60px" class="paragraph"></placeholder-picture>\n            <paragraph-line-holder>\n                <placeholder-line :width="getWidth()" class="paragraph"></placeholder-line>\n                <placeholder-line :width="getWidth()" class="paragraph"></placeholder-line>\n                <placeholder-line :width="getWidth()" class="paragraph"></placeholder-line>\n            </paragraph-line-holder>\n        </div>\n        <placeholder-line :width="getWidth()"></placeholder-line>\n        <placeholder-line :width="getWidth()"></placeholder-line>\n    </div>\n    '}},data:function(){return{PLACEHOLDER_LINE_HEIGHT:30,PARAGRAPH_HEIGHT:170,PADDING_BUFFER:30,internals:{paragraphs:0,lines:0}}},props:{height:{type:String,default:"50px"},paragraphs:{type:Boolean,default:!0}},watch:{height:function(){var e=this;this.$nextTick((function(){e.internals=e.calculateInternals(),e.$forceUpdate()}))}},mounted:function(){var e=this;this.$nextTick((function(){e.internals=e.calculateInternals()}))},methods:{getWidth:function(){return 15*Math.random()+85},calculateInternals:function(){var e=this.$refs.container.$el.scrollHeight-this.PADDING_BUFFER;return this.paragraphs?{paragraphs:parseInt(e/this.PARAGRAPH_HEIGHT),lines:parseInt(e%this.PARAGRAPH_HEIGHT/this.PLACEHOLDER_LINE_HEIGHT)}:{paragraphs:0,lines:parseInt(e/this.PLACEHOLDER_LINE_HEIGHT)}}},computed:{}};const h="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());let c;const u={};const g=d;var f=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("placeholder-container",{ref:"container",attrs:{height:e.height}},[e._l(e.internals.paragraphs,(function(e,n){return r("placeholder-paragraph",{key:"paragraph"+n})})),e._v(" "),e._l(e.internals.lines,(function(n,t){return r("placeholder-line",{key:t,attrs:{width:e.getWidth()}})}))],2)};f._withStripped=!0;!function(e,n,r,t,a,i,l,o,p,s){"boolean"!=typeof l&&(p=o,o=l,l=!1);const d="function"==typeof r?r.options:r;let h;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,a&&(d.functional=!0)),t&&(d._scopeId=t),i?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,p(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=h):n&&(h=l?function(e){n.call(this,s(e,this.$root.$options.shadowRoot))}:function(e){n.call(this,o(e))}),h)if(d.functional){const e=d.render;d.render=function(n,r){return h.call(r),e(n,r)}}else{const e=d.beforeCreate;d.beforeCreate=e?[].concat(e,h):[h]}}({render:f,staticRenderFns:[]},(function(e){e&&e("data-v-2f3bcf8e_0",{source:"\n@keyframes shimmer {\n0% {\r\n    background-position: -1000px 0;\n}\n100% {\r\n    background-position: 1000px 0;\n}\n}\n.paragraph {\r\n  display: inline-block;\n}\r\n",map:{version:3,sources:["C:\\Users\\pedro\\Documents\\Work\\Storybook\\src\\components\\Placeholder\\src\\Placeholder.vue"],names:[],mappings:";AA4IA;AACA;IACA,8BAAA;AACA;AACA;IACA,6BAAA;AACA;AACA;AACA;EACA,qBAAA;AACA",file:"Placeholder.vue",sourcesContent:['<template>\r\n  <placeholder-container ref="container" :height="height">\r\n    <placeholder-paragraph\r\n      v-for="(paragraph, paragraphIndex) in internals.paragraphs"\r\n      :key="`paragraph${paragraphIndex}`"\r\n    ></placeholder-paragraph>\r\n    <placeholder-line\r\n      v-for="(line, index) in internals.lines"\r\n      :key="index"\r\n      :width="getWidth()"\r\n    ></placeholder-line>\r\n  </placeholder-container>\r\n</template>\r\n\r\n<script>\r\nimport styled from "vue-styled-components";\r\n\r\nconst props = {\r\n  height: {\r\n    type: String,\r\n    default: "50px"\r\n  },\r\n  width: {\r\n    type: String,\r\n    default: "50px"\r\n  }\r\n};\r\nconst PlaceholderContainer = styled("div", props)`\r\n  height: ${props => props.height};\r\n  padding: 15px;\r\n`;\r\nconst PlaceholderLine = styled("div", props)`\r\n  animation: shimmer 2.5s infinite;\r\n  background: linear-gradient(to right, #eff1f3 4%, #e2e2e2 25%, #eff1f3 36%);\r\n  background-size: 1000px 100%;\r\n  height: 10px;\r\n  display: inline-block;\r\n  margin: 10px 0px;\r\n  border-radius: 8px;\r\n  width: ${props => props.width}%;\r\n`;\r\nexport const PlaceholderPicture = styled("div", props)`\r\n  animation: shimmer 2.5s infinite;\r\n  background: linear-gradient(to right, #eff1f3 4%, #e2e2e2 25%, #eff1f3 36%);\r\n  background-size: 1000px 100%;\r\n  height: ${props => props.height};\r\n  margin: 10px 10px;\r\n  border-radius: 8px;\r\n  width: ${props => props.width};\r\n`;\r\nexport const ParagraphLineHolder = styled.div`\r\n  width: calc(100% - 85px);\r\n  display: inline-block;\r\n`;\r\nconst PlaceholderParagraph = {\r\n  components: { PlaceholderLine, PlaceholderPicture, ParagraphLineHolder },\r\n  methods: {\r\n    getWidth() {\r\n      return Math.random() * (100 - 85) + 85;\r\n    }\r\n  },\r\n  template: `\r\n    <div>\r\n        <div>\r\n            <placeholder-picture height="78px" width="60px" class="paragraph"></placeholder-picture>\r\n            <paragraph-line-holder>\r\n                <placeholder-line :width="getWidth()" class="paragraph"></placeholder-line>\r\n                <placeholder-line :width="getWidth()" class="paragraph"></placeholder-line>\r\n                <placeholder-line :width="getWidth()" class="paragraph"></placeholder-line>\r\n            </paragraph-line-holder>\r\n        </div>\r\n        <placeholder-line :width="getWidth()"></placeholder-line>\r\n        <placeholder-line :width="getWidth()"></placeholder-line>\r\n    </div>\r\n    `\r\n};\r\nexport const Placeholder = {\r\n  components: { PlaceholderContainer, PlaceholderLine, PlaceholderParagraph },\r\n  data() {\r\n    return {\r\n      PLACEHOLDER_LINE_HEIGHT: 30,\r\n      PARAGRAPH_HEIGHT: 170,\r\n      PADDING_BUFFER: 30,\r\n      internals: { paragraphs: 0, lines: 0 }\r\n    };\r\n  },\r\n  props: {\r\n    height: {\r\n      type: String,\r\n      default: "50px"\r\n    },\r\n    paragraphs: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  watch: {\r\n    height() {\r\n      this.$nextTick(() => {\r\n        this.internals = this.calculateInternals();\r\n        this.$forceUpdate();\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.internals = this.calculateInternals();\r\n    });\r\n  },\r\n  methods: {\r\n    getWidth() {\r\n      return Math.random() * (100 - 85) + 85;\r\n    },\r\n    calculateInternals() {\r\n      let availableSpace =\r\n        this.$refs.container.$el.scrollHeight - this.PADDING_BUFFER;\r\n      if (!this.paragraphs) {\r\n        return {\r\n          paragraphs: 0,\r\n          lines: parseInt(availableSpace / this.PLACEHOLDER_LINE_HEIGHT)\r\n        };\r\n      } else {\r\n        let maxParagraphs = parseInt(availableSpace / this.PARAGRAPH_HEIGHT);\r\n        let remainingSpace = parseInt(\r\n          (availableSpace % this.PARAGRAPH_HEIGHT) /\r\n            this.PLACEHOLDER_LINE_HEIGHT\r\n        );\r\n        return {\r\n          paragraphs: maxParagraphs,\r\n          lines: remainingSpace\r\n        };\r\n      }\r\n    }\r\n  },\r\n  computed: {}\r\n};\r\nexport default Placeholder;\r\n<\/script>\r\n\r\n<style>\r\n@keyframes shimmer {\r\n  0% {\r\n    background-position: -1000px 0;\r\n  }\r\n  100% {\r\n    background-position: 1000px 0;\r\n  }\r\n}\r\n.paragraph {\r\n  display: inline-block;\r\n}\r\n</style>\r\n']},media:void 0})}),g,void 0,!1,void 0,!1,(function(e){return(e,n)=>function(e,n){const r=h?n.media||"default":e,t=u[r]||(u[r]={ids:new Set,styles:[]});if(!t.ids.has(e)){t.ids.add(e);let r=n.source;if(n.map&&(r+="\n/*# sourceURL="+n.map.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),t.element||(t.element=document.createElement("style"),t.element.type="text/css",n.media&&t.element.setAttribute("media",n.media),void 0===c&&(c=document.head||document.getElementsByTagName("head")[0]),c.appendChild(t.element)),"styleSheet"in t.element)t.styles.push(r),t.element.styleSheet.cssText=t.styles.filter(Boolean).join("\n");else{const e=t.ids.size-1,n=document.createTextNode(r),a=t.element.childNodes;a[e]&&t.element.removeChild(a[e]),a.length?t.element.insertBefore(n,a[e]):t.element.appendChild(n)}}}(e,n)}),void 0,void 0);for(var m=null,A=function(){var e=P[x],n=function(r){n.installed||(n.installed=!0,r.component(e.label,e.component))},r={install:n};"undefined"!=typeof window?m=window.Vue:"undefined"!=typeof global&&(m=global.Vue),m&&m.use(r),e.component.install=n},x=0,P=[{label:"Placeholder",component:d},{label:"PlaceholderPicture",component:s}];x<P.length;x++)A();export{d as Placeholder,s as PlaceholderPicture};
