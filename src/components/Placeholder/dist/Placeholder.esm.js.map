{"version":3,"file":"Placeholder.esm.js","sources":["../src/Placeholder.vue","../src/entry.js"],"sourcesContent":["<template>\r\n  <placeholder-container ref=\"container\" :height=\"height\">\r\n    <placeholder-paragraph\r\n      v-for=\"(paragraph, paragraphIndex) in internals.paragraphs\"\r\n      :key=\"`paragraph${paragraphIndex}`\"\r\n    ></placeholder-paragraph>\r\n    <placeholder-line\r\n      v-for=\"(line, index) in internals.lines\"\r\n      :key=\"index\"\r\n      :width=\"getWidth()\"\r\n    ></placeholder-line>\r\n  </placeholder-container>\r\n</template>\r\n\r\n<script>\r\nimport styled from \"vue-styled-components\";\r\n\r\nconst props = {\r\n  height: {\r\n    type: String,\r\n    default: \"50px\",\r\n  },\r\n  width: {\r\n    type: [String, Number],\r\n    default: \"50px\",\r\n  },\r\n};\r\nconst PlaceholderContainer = styled(\"div\", props)`\r\n  height: ${(props) => props.height};\r\n  padding: 15px;\r\n`;\r\nconst PlaceholderLine = styled(\"div\", props)`\r\n  animation: shimmer 2.5s infinite;\r\n  background: linear-gradient(to right, #eff1f3 4%, #e2e2e2 25%, #eff1f3 36%);\r\n  background-size: 1000px 100%;\r\n  height: 10px;\r\n  display: inline-block;\r\n  margin: 10px 0px;\r\n  border-radius: 8px;\r\n  width: ${(props) => props.width}%;\r\n`;\r\nexport const PlaceholderPicture = styled(\"div\", props)`\r\n  animation: shimmer 2.5s infinite;\r\n  background: linear-gradient(to right, #eff1f3 4%, #e2e2e2 25%, #eff1f3 36%);\r\n  background-size: 1000px 100%;\r\n  height: ${(props) => props.height};\r\n  margin: 10px 10px;\r\n  border-radius: 8px;\r\n  width: ${(props) => props.width};\r\n`;\r\nexport const ParagraphLineHolder = styled.div`\r\n  width: calc(100% - 85px);\r\n  display: inline-block;\r\n`;\r\nconst PlaceholderParagraph = {\r\n  components: { PlaceholderLine, PlaceholderPicture, ParagraphLineHolder },\r\n  methods: {\r\n    getWidth() {\r\n      return Math.random() * (100 - 85) + 85;\r\n    },\r\n  },\r\n  template: `\r\n    <div>\r\n        <div>\r\n            <placeholder-picture height=\"78px\" width=\"60px\" class=\"paragraph\"></placeholder-picture>\r\n            <paragraph-line-holder>\r\n                <placeholder-line :width=\"getWidth()\" class=\"paragraph\"></placeholder-line>\r\n                <placeholder-line :width=\"getWidth()\" class=\"paragraph\"></placeholder-line>\r\n                <placeholder-line :width=\"getWidth()\" class=\"paragraph\"></placeholder-line>\r\n            </paragraph-line-holder>\r\n        </div>\r\n        <placeholder-line :width=\"getWidth()\"></placeholder-line>\r\n        <placeholder-line :width=\"getWidth()\"></placeholder-line>\r\n    </div>\r\n    `,\r\n};\r\nexport const Placeholder = {\r\n  components: { PlaceholderContainer, PlaceholderLine, PlaceholderParagraph },\r\n  data() {\r\n    return {\r\n      PLACEHOLDER_LINE_HEIGHT: 30,\r\n      PARAGRAPH_HEIGHT: 170,\r\n      PADDING_BUFFER: 30,\r\n      internals: { paragraphs: 0, lines: 0 },\r\n    };\r\n  },\r\n  props: {\r\n    height: {\r\n      type: String,\r\n      default: \"50px\",\r\n    },\r\n    paragraphs: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  watch: {\r\n    height() {\r\n      this.$nextTick(() => {\r\n        this.internals = this.calculateInternals();\r\n        this.$forceUpdate();\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.internals = this.calculateInternals();\r\n    });\r\n  },\r\n  methods: {\r\n    getWidth() {\r\n      return Math.random() * (100 - 85) + 85;\r\n    },\r\n    calculateInternals() {\r\n      try {\r\n        let availableSpace =\r\n          this.$refs.container.$el.scrollHeight - this.PADDING_BUFFER;\r\n        if (!this.paragraphs) {\r\n          return {\r\n            paragraphs: 0,\r\n            lines: parseInt(availableSpace / this.PLACEHOLDER_LINE_HEIGHT),\r\n          };\r\n        } else {\r\n          let maxParagraphs = parseInt(availableSpace / this.PARAGRAPH_HEIGHT);\r\n          let remainingSpace = parseInt(\r\n            (availableSpace % this.PARAGRAPH_HEIGHT) /\r\n              this.PLACEHOLDER_LINE_HEIGHT\r\n          );\r\n          return {\r\n            paragraphs: maxParagraphs,\r\n            lines: remainingSpace,\r\n          };\r\n        }\r\n      } catch (error) {\r\n        return {\r\n          paragraphs: 0,\r\n          lines: 0,\r\n        };\r\n      }\r\n    },\r\n  },\r\n  computed: {},\r\n};\r\nexport default Placeholder;\r\n</script>\r\n\r\n<style>\r\n@keyframes shimmer {\r\n  0% {\r\n    background-position: -1000px 0;\r\n  }\r\n  100% {\r\n    background-position: 1000px 0;\r\n  }\r\n}\r\n@-webkit-keyframes shimmer {\r\n  0% {\r\n    background-position: -1000px 0;\r\n  }\r\n  100% {\r\n    background-position: 1000px 0;\r\n  }\r\n}\r\n@-moz-keyframes shimmer {\r\n  0% {\r\n    background-position: -1000px 0;\r\n  }\r\n  100% {\r\n    background-position: 1000px 0;\r\n  }\r\n}\r\n.paragraph {\r\n  display: inline-block;\r\n}\r\n</style>\r\n","// Import vue component\r\nimport { Placeholder, PlaceholderPicture } from \"./Placeholder.vue\";\r\n\r\nlet components = [\r\n  { label: \"Placeholder\", component: Placeholder },\r\n  { label: \"PlaceholderPicture\", component: PlaceholderPicture },\r\n];\r\nlet GlobalVue = null;\r\nfor (let component_obj of components) {\r\n  // install function executed by Vue.use()\r\n  const install = function installComponent(Vue) {\r\n    if (install.installed) return;\r\n    install.installed = true;\r\n    Vue.component(component_obj.label, component_obj.component);\r\n  };\r\n\r\n  // Create module definition for Vue.use()\r\n  const plugin = {\r\n    install,\r\n  };\r\n\r\n  // To auto-install when vue is found\r\n  // eslint-disable-next-line no-redeclare\r\n  /* global window, global */\r\n  if (typeof window !== \"undefined\") {\r\n    GlobalVue = window.Vue;\r\n  } else if (typeof global !== \"undefined\") {\r\n    GlobalVue = global.Vue;\r\n  }\r\n  if (GlobalVue) {\r\n    GlobalVue.use(plugin);\r\n  }\r\n\r\n  // Inject install function into component - allows component\r\n  // to be registered via Vue.use() as well as Vue.component()\r\n  component_obj.component.install = install;\r\n}\r\n// Export component by default\r\nexport { Placeholder, PlaceholderPicture };\r\nexport default Placeholder;\r\n// It's possible to expose named exports when writing components that can\r\n// also be used as directives, etc. - eg. import { RollupDemoDirective } from 'rollup-demo';\r\n// export const RollupDemoDirective = component;\r\n"],"names":["components","label","component","Placeholder","PlaceholderPicture","GlobalVue","component_obj","install","installComponent","Vue","installed","plugin","window","global","use"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBA;;;;;;;;;CAAA;AAUA;;EAAA;AAIA;;EAAA;;;;;;;AAuBA;;;;;;;;;;;;CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAtDA,AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA,AAEA,IAAIA,UAAU,GAAG,CACf;AAAEC,EAAAA,KAAK,EAAE,aAAT;AAAwBC,EAAAA,SAAS,EAAEC;AAAnC,CADe,EAEf;AAAEF,EAAAA,KAAK,EAAE,oBAAT;AAA+BC,EAAAA,SAAS,EAAEE;AAA1C,CAFe,CAAjB;AAIA,IAAIC,SAAS,GAAG,IAAhB;;;AACK,MAAIC,aAAa,kBAAjB;;AACH;AACA,MAAMC,OAAO,GAAG,SAASC,gBAAT,CAA0BC,GAA1B,EAA+B;AAC7C,QAAIF,OAAO,CAACG,SAAZ,EAAuB;AACvBH,IAAAA,OAAO,CAACG,SAAR,GAAoB,IAApB;AACAD,IAAAA,GAAG,CAACP,SAAJ,CAAcI,aAAa,CAACL,KAA5B,EAAmCK,aAAa,CAACJ,SAAjD;AACD,GAJD;;;AAOA,MAAMS,MAAM,GAAG;AACbJ,IAAAA,OAAO,EAAPA;AADa,GAAf;AAKA;;AACA;;AACA,MAAI,OAAOK,MAAP,KAAkB,WAAtB,EAAmC;AACjCP,IAAAA,SAAS,GAAGO,MAAM,CAACH,GAAnB;AACD,GAFD,MAEO,IAAI,OAAOI,MAAP,KAAkB,WAAtB,EAAmC;AACxCR,IAAAA,SAAS,GAAGQ,MAAM,CAACJ,GAAnB;AACD;;AACD,MAAIJ,SAAJ,EAAe;AACbA,IAAAA,SAAS,CAACS,GAAV,CAAcH,MAAd;AACD;AAGD;;;AACAL,EAAAA,aAAa,CAACJ,SAAd,CAAwBK,OAAxB,GAAkCA,OAAlC;;;AA3BF,+BAA0BP,UAA1B,iCAAsC;AAAA;AA4BrC;AAKD;AACA;;;;;"}