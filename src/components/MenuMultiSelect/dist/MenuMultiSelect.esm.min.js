import e from"vue-styled-components";import n from"@IntusFacultas/design-system";import t from"@IntusFacultas/badge";import{NButton as r}from"@IntusFacultas/button";function i(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function l(){var e=i(["\n  color: #222;\n  display: flex;\n  user-select: none;\n  justify-content: space-between;\n  padding: 2px 5px;\n  transition: color 0.1s ease-in-out, background-color 0.1s ease-in-out,\n    border-color 0.1s ease-in-out, box-shadow 0.1s ease-in-out;\n  cursor: pointer;\n  &:hover {\n    background-color: #fafafa;\n  }\n"]);return l=function(){return e},e}function a(){var e=i(["\n  width: 50%;\n  height: ",";\n  overflow-y: auto;\n  border: 1px solid #dcdcdc;\n  border-radius: 4px;\n  padding: 5px 10px;\n  list-style-type: none;\n  background-color: white;\n"]);return a=function(){return e},e}function o(){var e=i(['\n  display: flex;\n  justify-content: space-between;\n  & * {\n    font-family: "Open Sans Regular", -apple-system, BlinkMacSystemFont,\n      "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif,\n      "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  }\n  padding: 10px 10px;\n']);return o=function(){return e},e}function s(){var e=i(["\n  display: flex;\n  flex-direction: column;\n\n  justify-content: center;\n  margin: 16px 5px;\n  padding: 5px 0px;\n  & button {\n    margin: 5px 0px;\n  }\n"]);return s=function(){return e},e}var u={flavor:String,height:String,defaultTheme:{type:Object,default:function(){return n}}},c=e.div(s()),d={components:{MenuContainer:e.div(o()),MultiMenu:e("ul",u)(a(),(function(e){return e.height})),MenuItem:e.li(l()),Badge:t,MenuButtons:c,NButton:r},data:function(){return{internalValue:[]}},watch:{value:function(e){this.internalValue=e}},props:{flavor:{type:String,default:""},value:{type:Array,default:function(){return[]}},height:{type:String,default:function(){return"100px"}},items:{type:Array,default:function(){return[]}}},mounted:function(){this.internalValue=this.value},methods:{select:function(e){this.internalValue.push(e),this.$emit("change",this.internalValue)},deselect:function(e){this.internalValue.splice(this.internalValue.map((function(e){return e.value})).indexOf(e.value),1),this.$emit("change",this.internalValue)},selectAll:function(){this.internalValue=this.items.slice(),this.$emit("change",this.internalValue)},deselectAll:function(){this.internalValue=[],this.$emit("change",this.internalValue)}},computed:{computedItems:function(){var e=this.internalValue.map((function(e){return e.value}));return this.items.filter((function(n){return-1==e.indexOf(n.value)}))}}};var p,m="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var f={};const h=d;var y=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("menu-container",[t("multi-menu",{attrs:{height:e.height}},e._l(e.computedItems,(function(n,r){return t("menu-item",{key:"selectable"+r,attrs:{tabindex:"0",role:"button"},on:{click:function(t){return e.select(n)},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.select(n)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.select(n)}]}},[t("span"),e._v(e._s(n.display)+"\n      "),t("badge",{attrs:{flavor:e.flavor}},[e._v("❯")])],1)})),1),e._v(" "),t("menu-buttons",[t("n-button",{staticClass:"menu-multi-select-flipped",attrs:{flavor:e.flavor,small:!0},on:{click:function(n){return e.selectAll()}}},[e._v("❮❮")]),e._v(" "),t("n-button",{attrs:{flavor:e.flavor,small:!0},on:{click:function(n){return e.deselectAll()}}},[e._v("❮❮")])],1),e._v(" "),t("multi-menu",{attrs:{height:e.height}},e._l(e.internalValue,(function(n,r){return t("menu-item",{key:"selected"+r,attrs:{role:"button",tabindex:"0"},on:{click:function(t){return e.deselect(n)},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.deselect(n)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.deselect(n)}]}},[t("badge",{staticClass:"menu-multi-select-flipped",attrs:{flavor:e.flavor}},[e._v("❯")]),e._v(e._s(n.display)+" "),t("span")],1)})),1)],1)};y._withStripped=!0;const v=function(e,n,t,r,i,l,a,o,s,u){"boolean"!=typeof a&&(s=o,o=a,a=!1);var c,d="function"==typeof t?t.options:t;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,i&&(d.functional=!0)),r&&(d._scopeId=r),l?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,s(e)),e&&e._registeredComponents&&e._registeredComponents.add(l)},d._ssrRegister=c):n&&(c=a?function(e){n.call(this,u(e,this.$root.$options.shadowRoot))}:function(e){n.call(this,o(e))}),c)if(d.functional){var p=d.render;d.render=function(e,n){return c.call(n),p(e,n)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,c):[c]}return t}({render:y,staticRenderFns:[]},(function(e){e&&e("data-v-c4e42bf4_0",{source:"\n.menu-multi-select-flipped {\r\n  transform: rotate(180deg);\n}\r\n",map:{version:3,sources:["C:\\Users\\pedro\\Documents\\Personal Projects\\GitHub\\storybook\\src\\components\\MenuMultiSelect\\src\\MenuMultiSelect.vue"],names:[],mappings:";AAqLA;EACA,yBAAA;AACA",file:"MenuMultiSelect.vue",sourcesContent:['<template>\r\n  <menu-container>\r\n    <multi-menu :height="height">\r\n      <menu-item\r\n        tabindex="0"\r\n        role="button"\r\n        v-for="(item, index) in computedItems"\r\n        @click="select(item)"\r\n        @keyup.enter="select(item)"\r\n        @keyup.space="select(item)"\r\n        :key="`selectable${index}`"\r\n        ><span></span>{{ item.display }}\r\n        <badge :flavor="flavor">&#x276F;</badge>\r\n      </menu-item>\r\n    </multi-menu>\r\n    <menu-buttons>\r\n      <n-button\r\n        @click="selectAll()"\r\n        :flavor="flavor"\r\n        :small="true"\r\n        class="menu-multi-select-flipped"\r\n        >&#10094;&#10094;</n-button\r\n      >\r\n      <n-button @click="deselectAll()" :flavor="flavor" :small="true"\r\n        >&#10094;&#10094;</n-button\r\n      >\r\n    </menu-buttons>\r\n    <multi-menu :height="height">\r\n      <menu-item\r\n        role="button"\r\n        tabindex="0"\r\n        @click="deselect(item)"\r\n        @keyup.enter="deselect(item)"\r\n        @keyup.space="deselect(item)"\r\n        v-for="(item, index) in internalValue"\r\n        :key="`selected${index}`"\r\n        ><badge class="menu-multi-select-flipped" :flavor="flavor"\r\n          >&#x276F;</badge\r\n        >{{ item.display }} <span></span\r\n      ></menu-item>\r\n    </multi-menu>\r\n  </menu-container>\r\n</template>\r\n\r\n<script>\r\nimport styled from "vue-styled-components";\r\nimport Theme from "@IntusFacultas/design-system";\r\nimport Badge from "@IntusFacultas/badge";\r\nimport { NButton } from "@IntusFacultas/button";\r\nconst props = {\r\n  flavor: String,\r\n  height: String,\r\n  defaultTheme: {\r\n    type: Object,\r\n    default: function() {\r\n      return Theme;\r\n    }\r\n  }\r\n};\r\nconst MenuButtons = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  justify-content: center;\r\n  margin: 16px 5px;\r\n  padding: 5px 0px;\r\n  & button {\r\n    margin: 5px 0px;\r\n  }\r\n`;\r\nconst MenuContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  & * {\r\n    font-family: "Open Sans Regular", -apple-system, BlinkMacSystemFont,\r\n      "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif,\r\n      "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\r\n  }\r\n  padding: 10px 10px;\r\n`;\r\nconst MultiMenu = styled("ul", props)`\r\n  width: 50%;\r\n  height: ${props => props.height};\r\n  overflow-y: auto;\r\n  border: 1px solid #dcdcdc;\r\n  border-radius: 4px;\r\n  padding: 5px 10px;\r\n  list-style-type: none;\r\n  background-color: white;\r\n`;\r\nconst MenuItem = styled.li`\r\n  color: #222;\r\n  display: flex;\r\n  user-select: none;\r\n  justify-content: space-between;\r\n  padding: 2px 5px;\r\n  transition: color 0.1s ease-in-out, background-color 0.1s ease-in-out,\r\n    border-color 0.1s ease-in-out, box-shadow 0.1s ease-in-out;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background-color: #fafafa;\r\n  }\r\n`;\r\nexport const MenuMultiSelect = {\r\n  components: {\r\n    MenuContainer,\r\n    MultiMenu,\r\n    MenuItem,\r\n    Badge,\r\n    MenuButtons,\r\n    NButton\r\n  },\r\n  data() {\r\n    return {\r\n      internalValue: []\r\n    };\r\n  },\r\n  watch: {\r\n    value(newVal) {\r\n      this.internalValue = newVal;\r\n    }\r\n  },\r\n  props: {\r\n    flavor: {\r\n      type: String,\r\n      default: ""\r\n    },\r\n    value: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    },\r\n    height: {\r\n      type: String,\r\n      default() {\r\n        return "100px";\r\n      }\r\n    },\r\n    items: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.internalValue = this.value;\r\n  },\r\n  methods: {\r\n    select(item) {\r\n      this.internalValue.push(item);\r\n      this.$emit("change", this.internalValue);\r\n    },\r\n    deselect(item) {\r\n      this.internalValue.splice(\r\n        this.internalValue.map(x => x.value).indexOf(item.value),\r\n        1\r\n      );\r\n      this.$emit("change", this.internalValue);\r\n    },\r\n    selectAll() {\r\n      this.internalValue = this.items.slice();\r\n      this.$emit("change", this.internalValue);\r\n    },\r\n    deselectAll() {\r\n      this.internalValue = [];\r\n      this.$emit("change", this.internalValue);\r\n    }\r\n  },\r\n  computed: {\r\n    computedItems() {\r\n      let mappedInternals = this.internalValue.map(x => x.value);\r\n      return this.items.filter(x => mappedInternals.indexOf(x.value) == -1);\r\n    }\r\n  }\r\n};\r\nexport default MenuMultiSelect;\r\n<\/script>\r\n\r\n<style>\r\n.menu-multi-select-flipped {\r\n  transform: rotate(180deg);\r\n}\r\n</style>\r\n']},media:void 0})}),h,void 0,!1,void 0,!1,(function(e){return function(e,n){return function(e,n){var t=m?n.media||"default":e,r=f[t]||(f[t]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);var i=n.source;if(n.map&&(i+="\n/*# sourceURL="+n.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",n.media&&r.element.setAttribute("media",n.media),void 0===p&&(p=document.head||document.getElementsByTagName("head")[0]),p.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(i),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{var l=r.ids.size-1,a=document.createTextNode(i),o=r.element.childNodes;o[l]&&r.element.removeChild(o[l]),o.length?r.element.insertBefore(a,o[l]):r.element.appendChild(a)}}}(e,n)}}),void 0,void 0);var g=function(e){g.installed||(g.installed=!0,e.component("MenuMultiSelect",v))},b={install:g},x=null;"undefined"!=typeof window?x=window.Vue:"undefined"!=typeof global&&(x=global.Vue),x&&x.use(b),v.install=g;export default v;
