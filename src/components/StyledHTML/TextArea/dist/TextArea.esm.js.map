{"version":3,"file":"TextArea.esm.js","sources":["../src/polyfill-resize.js","../src/TextArea.vue","../src/entry.js"],"sourcesContent":["/*\nDragResize v1.0@74147644ad1f26597f1c8d1c42a065f57d9b2e8b\n(c) 2005-2013 Angus Turnbull, TwinHelix Designs http://www.twinhelix.com\n\nLicensed under the GNU LGPL, version 3 or later:\nhttps://www.gnu.org/copyleft/lesser.html\nThis is distributed WITHOUT ANY WARRANTY; without even the implied\nwarranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\nMODIFIED BY Pedro Del Moral Lopez TO RESOLVE ISSUES WITH STRICT MODE\n*/\nif (typeof addEvent != \"function\") {\n  var addEvent = function(o, t, f, l) {\n    var d = \"addEventListener\",\n      n = \"on\" + t,\n      rO = o,\n      rT = t,\n      rF = f,\n      rL = l;\n    if (o[d] && !l) return o[d](t, f, false);\n    if (!o._evts) o._evts = {};\n    if (!o._evts[t]) {\n      o._evts[t] = o[n] ? { b: o[n] } : {};\n      o[n] = new Function(\n        \"e\",\n        'var r=true,o=this,a=o._evts[\"' +\n          t +\n          '\"],i;for(i in a){o._f=a[i];r=o._f(e||window.event)!=false&&r;o._f=null}return r'\n      );\n      if (t != \"unload\")\n        addEvent(window, \"unload\", function() {\n          removeEvent(rO, rT, rF, rL);\n        });\n    }\n    if (!f._i) f._i = addEvent._i++;\n    o._evts[t][f._i] = f;\n  };\n  addEvent._i = 1;\n  var removeEvent = function(o, t, f, l) {\n    var d = \"removeEventListener\";\n    if (o[d] && !l) return o[d](t, f, false);\n    if (o._evts && o._evts[t] && f._i) delete o._evts[t][f._i];\n  };\n}\nfunction cancelEvent(e, c) {\n  e.returnValue = false;\n  if (e.preventDefault) e.preventDefault();\n  if (c) {\n    e.cancelBubble = true;\n    if (e.stopPropagation) e.stopPropagation();\n  }\n}\nfunction DragResize(myName, config) {\n  var props = {\n    myName: myName,\n    enabled: true,\n    handles: [\"tl\", \"tm\", \"tr\", \"ml\", \"mr\", \"bl\", \"bm\", \"br\"],\n    isElement: null,\n    isHandle: null,\n    element: null,\n    handle: null,\n    minWidth: 10,\n    minHeight: 10,\n    minLeft: 0,\n    maxLeft: 9999,\n    minTop: 0,\n    maxTop: 9999,\n    gridX: 1,\n    gridY: 1,\n    zIndex: 1,\n    mouseX: 0,\n    mouseY: 0,\n    lastMouseX: 0,\n    lastMouseY: 0,\n    mOffX: 0,\n    mOffY: 0,\n    elmX: 0,\n    elmY: 0,\n    elmW: 0,\n    elmH: 0,\n    allowBlur: true,\n    ondragfocus: null,\n    ondragstart: null,\n    ondragmove: null,\n    ondragend: null,\n    ondragblur: null\n  };\n  for (var p in props)\n    this[p] = typeof config[p] == \"undefined\" ? props[p] : config[p];\n}\nDragResize.prototype.apply = function(node) {\n  var obj = this;\n  addEvent(node, \"mousedown\", function(e) {\n    obj.mouseDown(e);\n  });\n  addEvent(node, \"mousemove\", function(e) {\n    obj.mouseMove(e);\n  });\n  addEvent(node, \"mouseup\", function(e) {\n    obj.mouseUp(e);\n  });\n  addEvent(node, \"touchstart\", function(e) {\n    obj.mouseDown(e);\n  });\n  addEvent(node, \"touchmove\", function(e) {\n    obj.mouseMove(e);\n  });\n  addEvent(node, \"touchend\", function(e) {\n    obj.mouseUp(e);\n  });\n};\nDragResize.prototype.select = function(newElement) {\n  if (!document.getElementById || !this.enabled) return;\n  if (newElement && newElement != this.element && this.enabled) {\n    this.element = newElement;\n    this.element.style.zIndex = ++this.zIndex;\n    if (this.resizeHandleSet) this.resizeHandleSet(this.element, true);\n    var eCS =\n      this.element.currentStyle || window.getComputedStyle(this.element, null);\n    if (eCS.right) {\n      this.element.style.left = this.element.offsetLeft + \"px\";\n      this.element.style.right = \"\";\n    }\n    if (eCS.bottom) {\n      this.element.style.top = this.element.offsetTop + \"px\";\n      this.element.style.bottom = \"\";\n    }\n    this.elmX = parseInt(this.element.style.left);\n    this.elmY = parseInt(this.element.style.top);\n    this.elmW = this.element.clientWidth || this.element.offsetWidth;\n    this.elmH = this.element.clientHeight || this.element.offsetHeight;\n    if (this.ondragfocus) this.ondragfocus();\n  }\n};\nDragResize.prototype.deselect = function(delHandles) {\n  if (!document.getElementById || !this.enabled) return;\n  if (delHandles) {\n    if (this.ondragblur) this.ondragblur();\n    if (this.resizeHandleSet) this.resizeHandleSet(this.element, false);\n    this.element = null;\n  }\n  this.handle = null;\n  this.mOffX = 0;\n  this.mOffY = 0;\n};\nDragResize.prototype.mouseDown = function(e) {\n  if (!document.getElementById || !this.enabled) return true;\n  if (e.touches && e.touches.length) this.mouseMove(e);\n  var elm = e.target || e.srcElement,\n    newElement = null,\n    newHandle = null,\n    hRE = new RegExp(this.myName + \"-([trmbl]{2})\", \"\");\n  while (elm) {\n    if (elm.className) {\n      if (!newHandle && (hRE.test(elm.className) || this.isHandle(elm)))\n        newHandle = elm;\n      if (this.isElement(elm)) {\n        newElement = elm;\n        break;\n      }\n    }\n    elm = elm.parentNode;\n  }\n  if (this.element && this.element != newElement && this.allowBlur)\n    this.deselect(true);\n  if (newElement && (!this.element || newElement == this.element)) {\n    if (newHandle) cancelEvent(e);\n    this.select(newElement, newHandle);\n    this.handle = newHandle;\n    if (this.handle && this.ondragstart)\n      this.ondragstart(hRE.test(this.handle.className));\n  }\n};\nDragResize.prototype.mouseMove = function(e) {\n  if (!document.getElementById || !this.enabled) return true;\n  var mt = e.touches && e.touches.length ? e.touches[0] : e;\n  this.mouseX = mt.pageX || mt.clientX + document.documentElement.scrollLeft;\n  this.mouseY = mt.pageY || mt.clientY + document.documentElement.scrollTop;\n  var diffX = this.mouseX - this.lastMouseX + this.mOffX;\n  var diffY = this.mouseY - this.lastMouseY + this.mOffY;\n  this.mOffX = this.mOffY = 0;\n  this.lastMouseX = this.mouseX;\n  this.lastMouseY = this.mouseY;\n  if (!this.handle) return true;\n  var isResize = false;\n  if (this.resizeHandleDrag && this.resizeHandleDrag(diffX, diffY)) {\n    isResize = true;\n  } else {\n    var dX = diffX,\n      dY = diffY;\n    if (this.elmX + dX < this.minLeft)\n      this.mOffX = dX - (diffX = this.minLeft - this.elmX);\n    else if (this.elmX + this.elmW + dX > this.maxLeft)\n      this.mOffX = dX - (diffX = this.maxLeft - this.elmX - this.elmW);\n    if (this.elmY + dY < this.minTop)\n      this.mOffY = dY - (diffY = this.minTop - this.elmY);\n    else if (this.elmY + this.elmH + dY > this.maxTop)\n      this.mOffY = dY - (diffY = this.maxTop - this.elmY - this.elmH);\n    this.elmX += diffX;\n    this.elmY += diffY;\n  }\n  this.element.style.left =\n    Math.round(this.elmX / this.gridX) * this.gridX + \"px\";\n  this.element.style.top =\n    Math.round(this.elmY / this.gridY) * this.gridY + \"px\";\n  if (isResize) {\n    this.element.style.width =\n      Math.round(this.elmW / this.gridX) * this.gridX + \"px\";\n    this.element.style.height =\n      Math.round(this.elmH / this.gridY) * this.gridY + \"px\";\n  }\n  if (window.opera && document.documentElement) {\n    var oDF = document.getElementById(\"op-drag-fix\");\n    if (!oDF) {\n      var oDF = document.createElement(\"input\");\n      oDF.id = \"op-drag-fix\";\n      oDF.style.display = \"none\";\n      document.body.appendChild(oDF);\n    }\n    oDF.focus();\n  }\n  if (this.ondragmove) this.ondragmove(isResize);\n  cancelEvent(e);\n};\nDragResize.prototype.mouseUp = function(e) {\n  if (!document.getElementById || !this.enabled) return;\n  var hRE = new RegExp(this.myName + \"-([trmbl]{2})\", \"\");\n  if (this.handle && this.ondragend)\n    this.ondragend(hRE.test(this.handle.className));\n  this.deselect(false);\n};\nDragResize.prototype.resizeHandleSet = function(elm, show) {\n  if (!elm._handle_tr) {\n    for (var h = 0; h < this.handles.length; h++) {\n      var hDiv = document.createElement(\"div\");\n      hDiv.className = this.myName + \" \" + this.myName + \"-\" + this.handles[h];\n      elm[\"_handle_\" + this.handles[h]] = elm.appendChild(hDiv);\n    }\n  }\n  for (var h = 0; h < this.handles.length; h++) {\n    elm[\"_handle_\" + this.handles[h]].style.visibility = show\n      ? \"inherit\"\n      : \"hidden\";\n  }\n};\nDragResize.prototype.resizeHandleDrag = function(diffX, diffY) {\n  var hClass =\n    this.handle &&\n    this.handle.className &&\n    this.handle.className.match(new RegExp(this.myName + \"-([tmblr]{2})\"))\n      ? RegExp.$1\n      : \"\";\n  var dY = diffY,\n    dX = diffX,\n    processed = false;\n  if (hClass.indexOf(\"t\") >= 0) {\n    if (this.elmH - dY < this.minHeight)\n      this.mOffY = dY - (diffY = this.elmH - this.minHeight);\n    else if (this.elmY + dY < this.minTop)\n      this.mOffY = dY - (diffY = this.minTop - this.elmY);\n    this.elmY += diffY;\n    this.elmH -= diffY;\n    processed = true;\n  }\n  if (hClass.indexOf(\"b\") >= 0) {\n    if (this.elmH + dY < this.minHeight)\n      this.mOffY = dY - (diffY = this.minHeight - this.elmH);\n    else if (this.elmY + this.elmH + dY > this.maxTop)\n      this.mOffY = dY - (diffY = this.maxTop - this.elmY - this.elmH);\n    this.elmH += diffY;\n    processed = true;\n  }\n  if (hClass.indexOf(\"l\") >= 0) {\n    if (this.elmW - dX < this.minWidth)\n      this.mOffX = dX - (diffX = this.elmW - this.minWidth);\n    else if (this.elmX + dX < this.minLeft)\n      this.mOffX = dX - (diffX = this.minLeft - this.elmX);\n    this.elmX += diffX;\n    this.elmW -= diffX;\n    processed = true;\n  }\n  if (hClass.indexOf(\"r\") >= 0) {\n    if (this.elmW + dX < this.minWidth)\n      this.mOffX = dX - (diffX = this.minWidth - this.elmW);\n    else if (this.elmX + this.elmW + dX > this.maxLeft)\n      this.mOffX = dX - (diffX = this.maxLeft - this.elmX - this.elmW);\n    this.elmW += diffX;\n    processed = true;\n  }\n  return processed;\n};\n\n/*\n * resize-polyfill 1.1.0\n * (c) 2005-2013 Cezary Daniel Nowak\n * https://github.com/CezaryDanielNowak/css-resize-polyfill\n * Licenced under the MIT\n */\n\nvar resizeSupported =\n  document.createElement(\"textarea\").style.resize !== undefined;\nvar resizeHandlerPolyfill = function(target, force) {\n  if (!target) {\n    return resizeSupported ? \"native\" : \"polyfill\";\n  }\n\n  if (target.length) {\n    //this.element list provided\n    for (var i = target.length; i--; ) {\n      resizeHandlerPolyfill(target[i], force);\n    }\n  } else {\n    if (target.tagName === \"TEXTAREA\") {\n      target = target.parentNode;\n    }\n    target.className += \" resize-polyfill-wrapper\";\n    if (resizeSupported && !force) {\n      return;\n    }\n\n    var dragresize = new DragResize(\"resize-polyfill\", {\n      handles: [\"br\"],\n      minWidth: 50,\n      minHeight: 50,\n      allowBlur: false\n    });\n\n    dragresize.isElement = function(elm) {\n      return elm === target;\n    };\n    dragresize.isHandle = function(elm) {\n      return false;\n    };\n\n    dragresize.ondragfocus = function() {};\n    dragresize.ondragstart = function(isResize) {};\n    dragresize.ondragmove = function(isResize) {};\n    dragresize.ondragend = function(isResize) {};\n    dragresize.ondragblur = function() {};\n\n    var child = target.children[0];\n    if (child && child.tagName === \"TEXTAREA\") {\n      target.style.width = child.offsetWidth + \"px\";\n      target.style.height = child.offsetHeight + \"px\";\n      child.style.resize = \"none\";\n    } else {\n      target.style.resize = \"none\";\n    }\n\n    dragresize.apply(document);\n    dragresize.select(target); // required to show handler on bottom-right\n    target.className += \" resize-polyfill-polyfilled\";\n  }\n};\n\nif (typeof window !== \"undefined\") {\n  var css =\n      '.resize-polyfill-wrapper {position: relative;top: auto !important;left: auto !important;}\\n\\\n    .resize-polyfill-polyfilled textarea {width: 100%;height: 100%;}\\n\\\n    .resize-polyfill-br {background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAALUlEQVR42mNgwAH279//H4QZyFYAAv///5fBqQurCQQVEHQMVjaMAQQc2BQAABXMU79BvB5bAAAAAElFTkSuQmCC\") no-repeat center center;border: 2px solid transparent;bottom: 0px;cursor: se-resize;height: 8px;position: absolute;right: 0px;width: 8px;}',\n    head = document.head || document.getElementsByTagName(\"head\")[0],\n    style = document.createElement(\"style\");\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n\n  head.appendChild(style);\n}\nexport default resizeHandlerPolyfill;\n","<template>\r\n  <div class=\"input-container\">\r\n    <n-label :dark=\"labelDark\" :flavor=\"labelFlavor\" :for=\"name\">{{\r\n      label\r\n    }}</n-label>\r\n    <text-area\r\n      :id=\"name\"\r\n      :flavor=\"flavor\"\r\n      :cols=\"cols\"\r\n      :rows=\"rows\"\r\n      :readonly=\"readonly\"\r\n      :placeholder=\"placeholder\"\r\n      :name=\"name\"\r\n      :maxlength=\"maxlength\"\r\n      :required=\"required\"\r\n      :disabled=\"disabled\"\r\n      :autofocus=\"autofocus\"\r\n      v-model=\"internalValue\"\r\n      @input=\"oninput\"\r\n      @change=\"onChange\"\r\n      @focus=\"onFocus\"\r\n      ref=\"input\"\r\n    ></text-area>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { NLabel } from \"@IntusFacultas/typography\";\r\nimport Theme from \"@IntusFacultas/design-system\";\r\nimport styled from \"vue-styled-components\";\r\nimport resizeHandlerPolyfill from \"./polyfill-resize\";\r\nconst props = {\r\n  flavor: {\r\n    type: String,\r\n    default: \"LightBlue\",\r\n  },\r\n  defaultTheme: {\r\n    type: Object,\r\n    default: function() {\r\n      return Theme;\r\n    },\r\n  },\r\n};\r\nexport const NTextArea = styled(\"textarea\", props)`\r\n  width: 100%;\r\n  height: 35px;\r\n  font-size: 16px;\r\n  border-radius: 5px;\r\n  border-width: 1px;\r\n  border-style: solid;\r\n  padding: 2px 5px 2px 5px;\r\n  margin-top: 2px;\r\n  box-sizing: border-box;\r\n  font-family: \"Open Sans Regular\", -apple-system, BlinkMacSystemFont,\r\n    \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\",\r\n    \"Segoe UI Emoji\", \"Segoe UI Symbol\";\r\n  transition: box-shadow 0.5s cubic-bezier(0, 0.99, 0.37, 1.01);\r\n  &:focus {\r\n    border-color: ${(props) =>\r\n      props.theme && props.theme[props.flavor]\r\n        ? props.theme[props.flavor].border.color\r\n        : props.defaultTheme[props.flavor] &&\r\n          props.defaultTheme[props.flavor].border.color\r\n        ? props.defaultTheme[props.flavor].border.color\r\n        : \"#040404\"};\r\n    outline: none;\r\n    box-shadow: 0px 0px 0px 3px\r\n      ${(props) =>\r\n        props.theme && props.theme[props.flavor]\r\n          ? props.theme[props.flavor].border.color\r\n          : props.defaultTheme[props.flavor] &&\r\n            props.defaultTheme[props.flavor].border.color\r\n          ? props.defaultTheme[props.flavor].border.color\r\n          : \"#040404\"};\r\n  }\r\n  &:read-only {\r\n    background-color: #e9e9e9;\r\n    color: #747474;\r\n  }\r\n  &:disabled {\r\n    cursor: not-allowed;\r\n    pointer-events: none;\r\n    color: #747474;\r\n    background-color: #e2e2e2;\r\n  }\r\n`;\r\nexport const VueTextArea = {\r\n  name: \"vue-text-area\",\r\n  components: { NTextArea, NLabel },\r\n  data: function() {\r\n    return {\r\n      internalValue: \"\",\r\n    };\r\n  },\r\n  props: {\r\n    flavor: {\r\n      type: String,\r\n      default: \"LightBlue\",\r\n    },\r\n    autofocus: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    readonly: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    maxlength: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    cols: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    rows: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    name: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    required: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    labelFlavor: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    labelDark: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    label: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  watch: {\r\n    value: function(newVal, oldVal) {\r\n      this.internalValue = newVal;\r\n    },\r\n  },\r\n  mounted: function() {\r\n    var self = this;\r\n    if (typeof self.$parent !== \"undefined\") {\r\n      if (!self.$parent.$refs.inputs) self.$parent.$refs.inputs = {};\r\n      self.$parent.$refs.inputs[self.name] = self;\r\n    }\r\n    if (self.msieversion()) {\r\n      resizeHandlerPolyfill(self.$refs.input.$el, true);\r\n    }\r\n  },\r\n  methods: {\r\n    msieversion() {\r\n      var ua = window.navigator.userAgent;\r\n      var msie = ua.indexOf(\"MSIE \");\r\n\r\n      if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\\:11\\./)) {\r\n        // If Internet Explorer, return version number\r\n        return true;\r\n      } // If another browser, return 0\r\n      else {\r\n        return false;\r\n      }\r\n\r\n      return false;\r\n    },\r\n    oninput: function() {\r\n      var self = this;\r\n      self.$emit(\"input\", self.internalValue);\r\n    },\r\n    onChange() {\r\n      this.$emit(\"change\", this.internalValue);\r\n    },\r\n    onFocus() {\r\n      this.$emit(\"focus\");\r\n    },\r\n  },\r\n};\r\nexport default VueTextArea;\r\n</script>\r\n\r\n<style>\r\n.input-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n</style>\r\n","// Import vue component\r\nimport VueTextArea from \"./TextArea.vue\";\r\n\r\n// install function executed by Vue.use()\r\nconst install = function installVueTextArea(Vue) {\r\n  if (install.installed) return;\r\n  install.installed = true;\r\n  Vue.component(\"VueTextArea\", VueTextArea);\r\n};\r\n\r\n// Create module definition for Vue.use()\r\nconst plugin = {\r\n  install,\r\n};\r\n\r\n// To auto-install when vue is found\r\n// eslint-disable-next-line no-redeclare\r\n/* global window, global */\r\nlet GlobalVue = null;\r\nif (typeof window !== \"undefined\") {\r\n  GlobalVue = window.Vue;\r\n} else if (typeof global !== \"undefined\") {\r\n  GlobalVue = global.Vue;\r\n}\r\nif (GlobalVue) {\r\n  GlobalVue.use(plugin);\r\n}\r\n\r\n// Inject install function into component - allows component\r\n// to be registered via Vue.use() as well as Vue.component()\r\nVueTextArea.install = install;\r\n\r\n// Export component by default\r\nexport default VueTextArea;\r\nexport { VueTextArea };\r\n// It's possible to expose named exports when writing components that can\r\n// also be used as directives, etc. - eg. import { RollupDemoDirective } from 'rollup-demo';\r\n// export const RollupDemoDirective = component;\r\n"],"names":["addEvent","o","t","f","l","d","n","rO","rT","rF","rL","_evts","b","Function","window","removeEvent","_i","cancelEvent","e","c","returnValue","preventDefault","cancelBubble","stopPropagation","DragResize","myName","config","props","enabled","handles","isElement","isHandle","element","handle","minWidth","minHeight","minLeft","maxLeft","minTop","maxTop","gridX","gridY","zIndex","mouseX","mouseY","lastMouseX","lastMouseY","mOffX","mOffY","elmX","elmY","elmW","elmH","allowBlur","ondragfocus","ondragstart","ondragmove","ondragend","ondragblur","p","prototype","apply","node","obj","mouseDown","mouseMove","mouseUp","select","newElement","document","getElementById","style","resizeHandleSet","eCS","currentStyle","getComputedStyle","right","left","offsetLeft","bottom","top","offsetTop","parseInt","clientWidth","offsetWidth","clientHeight","offsetHeight","deselect","delHandles","touches","length","elm","target","srcElement","newHandle","hRE","RegExp","className","test","parentNode","mt","pageX","clientX","documentElement","scrollLeft","pageY","clientY","scrollTop","diffX","diffY","isResize","resizeHandleDrag","dX","dY","Math","round","width","height","opera","oDF","createElement","id","display","body","appendChild","focus","show","_handle_tr","h","hDiv","visibility","hClass","match","$1","processed","indexOf","resizeSupported","resize","undefined","resizeHandlerPolyfill","force","i","tagName","dragresize","child","children","css","head","getElementsByTagName","styleSheet","cssText","createTextNode","install","installVueTextArea","Vue","installed","component","VueTextArea","plugin","GlobalVue","global","use"],"mappings":"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"}